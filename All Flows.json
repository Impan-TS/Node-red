[
    {
        "id": "3b88af7013e8c9af",
        "type": "tab",
        "label": "TSE",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9c4bb7e2844a79c8",
        "type": "tab",
        "label": "TSE-OPCUA",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "805baf15573eaf8b",
        "type": "tab",
        "label": "TSE-OPCUA-READ",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98119508d188248a",
        "type": "tab",
        "label": "TSE-OPCUA-WRITE",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "405c9c6d1a0843b8",
        "type": "tab",
        "label": "TSE Control System",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "625c3d21b7d74d34",
        "type": "tab",
        "label": "TSE Control System",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fe9b19e06ae3a382",
        "type": "tab",
        "label": "Flow 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8b462604fafe168c",
        "type": "tab",
        "label": "Flow 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "eea8f516057bdf2c",
        "type": "tab",
        "label": "Flow 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6133908ce2256718",
        "type": "tab",
        "label": "Flow 4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a44c74cf86307afb",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8b2f8db6ec4655d9",
        "type": "tab",
        "label": "Flow 5",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7caea176b0e12d74",
        "type": "tab",
        "label": "Flow 6",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1c5bd0c7e1fa24d6",
        "type": "tab",
        "label": "Flow 7",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6f944c5b8336c4f5",
        "type": "tab",
        "label": "Flow 7",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cac328f81c7e938d",
        "type": "tab",
        "label": "Flow 8",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c997749fbf913c8c",
        "type": "tab",
        "label": "Flow 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f52b587109bf441f",
        "type": "tab",
        "label": "Flow 9",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "682b339eeec282a4",
        "type": "tab",
        "label": "Flow 9",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c97e490c855e7e94",
        "type": "tab",
        "label": "Flow 9",
        "disabled": false,
        "info": ""
    },
    {
        "id": "66624a70ec3afa12",
        "type": "tab",
        "label": "Flow 10",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a0d290bfe6a0c950",
        "type": "tab",
        "label": "Flow 11",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fcbe0b3c88301cce",
        "type": "tab",
        "label": "Flow 12",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "abb1808b49441a5c",
        "type": "tab",
        "label": "TB",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5ab6f3239926e7d4",
        "type": "tab",
        "label": "Flow 14",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c94202e593d4efd3",
        "type": "tab",
        "label": "Flow 13",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "74d8f714.ab8378",
        "type": "tab",
        "label": "All settings",
        "disabled": false,
        "info": ""
    },
    {
        "id": "819266d917a0c0a4",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false
    },
    {
        "id": "75513ffa11222e64",
        "type": "tab",
        "label": "Alarm",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "deb0d57.1c46528",
        "type": "tab",
        "label": "TB1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "887e18ccfc0ca88c",
        "type": "tab",
        "label": "TB2",
        "disabled": false,
        "info": ""
    },
    {
        "id": "99329f7d1d96a483",
        "type": "tab",
        "label": "TB3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "50a5bbfb6f4b46db",
        "type": "tab",
        "label": "TB4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "26f3b45d2ead1e40",
        "type": "tab",
        "label": "TB5",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b2a816a1c4a62629",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "66a52a1d9197ea25",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#4173b4",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#4173b4",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4173b4",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#749bcd",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#4173b4",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 49,
                "sy": 49,
                "gx": -1,
                "gy": -1,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "9cbe2d4f.e4c55",
        "type": "ui_group",
        "name": "TSE Control System",
        "tab": "b1c15c53.146dc",
        "order": 1,
        "disp": false,
        "width": "25",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b1c15c53.146dc",
        "type": "ui_tab",
        "name": "TSE Control System",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "958e1c110c17d1d6",
        "type": "ui_tab",
        "name": "TSE",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5620198f8ac98515",
        "type": "ui_group",
        "name": "TSE Group",
        "tab": "958e1c110c17d1d6",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b7ac45d673c0803c",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "224f7682fee176e1",
        "type": "ui_tab",
        "name": "TSE-OPCUA",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "247ac78261d79297",
        "type": "ui_group",
        "name": "TSE-OPCUA",
        "tab": "224f7682fee176e1",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "57e1adfb15a25dab",
        "type": "ui_tab",
        "name": "TSE-OPCUA-SERVER",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c6f9a2c4b218e051",
        "type": "ui_group",
        "name": "TSE-OPCUA-SERVER",
        "tab": "57e1adfb15a25dab",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e167d5bf33f2042a",
        "type": "OPCUA-IIoT-Connector",
        "discoveryUrl": "53530",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "endpointMustExist": false,
        "keepSessionAlive": true,
        "loginEnabled": false,
        "name": "OPCUA SERVER",
        "showErrors": false,
        "securityPolicy": "None",
        "securityMode": "None",
        "individualCerts": false,
        "publicCertificateFile": "",
        "privateKeyFile": "",
        "defaultSecureTokenLifetime": "",
        "autoSelectRightEndpoint": true,
        "strategyMaxRetry": "",
        "strategyInitialDelay": "",
        "strategyMaxDelay": "",
        "strategyRandomisationFactor": "",
        "requestedSessionTimeout": "",
        "connectionStartDelay": "",
        "reconnectDelay": "",
        "maxBadSessionRequests": "10"
    },
    {
        "id": "de38599db0405f50",
        "type": "ui_tab",
        "name": "TSE-OPCUA-READ",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "7fc3a367a2e04348",
        "type": "ui_group",
        "name": "TSE-OPCUA-READ",
        "tab": "de38599db0405f50",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0af8d4ca6cfa816e",
        "type": "ui_tab",
        "name": "TSE Control System",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5390be2c16e09319",
        "type": "ui_group",
        "name": "TSE Control System",
        "tab": "0af8d4ca6cfa816e",
        "order": 1,
        "disp": false,
        "width": "25",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7b601203148e4e9b",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://103.5.133.8:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "18cbaded54f422c6",
        "type": "ui_group",
        "name": "TSE Control System",
        "tab": "3fc0943a9a762cc0",
        "order": 1,
        "disp": false,
        "width": "25",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3fc0943a9a762cc0",
        "type": "ui_tab",
        "name": "TSE Control System",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "185866f9e4ab6c0e",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mqtt.thingsboard.cloud",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "v1/devices/me/telemetry",
        "birthQos": "0",
        "birthRetain": "true",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "87fa9eea9e28cec6",
        "type": "OPCUA-IIoT-Connector",
        "discoveryUrl": "",
        "endpoint": "opc.tcp://localhost:55388/",
        "endpointMustExist": false,
        "keepSessionAlive": true,
        "loginEnabled": false,
        "name": "LOCAL SERVER",
        "showErrors": false,
        "securityPolicy": "None",
        "securityMode": "None",
        "individualCerts": false,
        "publicCertificateFile": "",
        "privateKeyFile": "",
        "defaultSecureTokenLifetime": "",
        "autoSelectRightEndpoint": false,
        "strategyMaxRetry": "",
        "strategyInitialDelay": "",
        "strategyMaxDelay": "",
        "strategyRandomisationFactor": "",
        "requestedSessionTimeout": "",
        "connectionStartDelay": "",
        "reconnectDelay": "",
        "maxBadSessionRequests": "10"
    },
    {
        "id": "5e2aab1d75344146",
        "type": "websocket-client",
        "path": "ws://https://thingsboard.cloud/ws/telemetry?token=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJpbXBhbnRzM0BnbWFpbC5jb20iLCJ1c2VySWQiOiJkMjA2NGM3MC01YTAxLTExZWYtYWExNS1hMTI3NjM4ZTNhNzciLCJzY29wZXMiOlsiVEVOQU5UX0FETUlOIl0sInNlc3Npb25JZCI6IjhiNjA5NTAwLTNkZjQtNDY5MS04ODU5LWMzMmY2Zjc4MDc4MCIsImV4cCI6MTcyNDAzMDY2OSwiaXNzIjoidGhpbmdzYm9hcmQuY2xvdWQiLCJpYXQiOjE3MjQwMDE4NjksImZpcnN0TmFtZSI6IkltcGFuIiwibGFzdE5hbWUiOiJUIFMiLCJlbmFibGVkIjp0cnVlLCJpc1B1YmxpYyI6ZmFsc2UsImlzQmlsbGluZ1NlcnZpY2UiOmZhbHNlLCJwcml2YWN5UG9saWN5QWNjZXB0ZWQiOnRydWUsInRlcm1zT2ZVc2VBY2NlcHRlZCI6dHJ1ZSwidGVuYW50SWQiOiJkMWI4YTFhMC01YTAxLTExZWYtYWExNS1hMTI3NjM4ZTNhNzciLCJjdXN0b21lcklkIjoiMTM4MTQwMDAtMWRkMi0xMWIyLTgwODAtODA4MDgwODA4MDgwIn0.nX5Ay2Idede3PZxiJQaAAjvYj60sLVNHVjOTRfS4o3PzWoXy3Y_sRKr8dGvbalqU8NMq3H9DcmcOnKzSvPDVHA",
        "tls": "",
        "wholemsg": "true",
        "hb": "0",
        "subprotocol": "",
        "headers": []
    },
    {
        "id": "f47f7dce22c9c94a",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://192.168.128.1:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "7efc5fcb96445c53",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "b1c15c53.146dc",
        "order": 2,
        "disp": true,
        "width": 6
    },
    {
        "id": "136aee05e15fcb27",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "3a53d44ee96ccbc0",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "fa8a5e7250602190",
        "type": "ui_group",
        "name": "TSE Control System2",
        "tab": "c791fd6490f02264",
        "order": 1,
        "disp": false,
        "width": "25",
        "collapse": false,
        "className": ""
    },
    {
        "id": "deb070e0bbd83f21",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "c791fd6490f02264",
        "type": "ui_tab",
        "name": "TSE Control System2",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1ca5ab78392d81aa",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "4e4eadb3bf6acdfa",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "secpol": "None",
        "secmode": "None",
        "none": true,
        "login": false,
        "usercert": false,
        "usercertificate": "",
        "userprivatekey": ""
    },
    {
        "id": "abf6126a.0a86e",
        "type": "mqtt-broker",
        "name": "Device Simulator",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "node-red",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4e11db25.239e94",
        "type": "ui_tab",
        "name": "Remote Device Simulator",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d133e3eb.7d07",
        "type": "ui_group",
        "name": "Digital Input",
        "tab": "4e11db25.239e94",
        "order": 2,
        "disp": true,
        "width": "5",
        "collapse": false
    },
    {
        "id": "961cd96a.9245e8",
        "type": "ui_group",
        "name": "Digital Output",
        "tab": "4e11db25.239e94",
        "order": 3,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "674c609.8a5d7a",
        "type": "ui_group",
        "name": "Analog Input",
        "tab": "4e11db25.239e94",
        "order": 4,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "e9e8770c.545a98",
        "type": "ui_group",
        "name": "Analog Output",
        "tab": "4e11db25.239e94",
        "order": 5,
        "disp": true,
        "width": 5,
        "collapse": false
    },
    {
        "id": "b40a9046.ee183",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 6,
        "height": 1
    },
    {
        "id": "d35ba028.531cf",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 6,
        "height": 1
    },
    {
        "id": "5196a66e.3db488",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 6,
        "height": 1
    },
    {
        "id": "78a807f5.51d978",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": 6,
        "height": 1
    },
    {
        "id": "72bc96b7.918ab8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": 6,
        "height": 1
    },
    {
        "id": "58c270a6.55077",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 6,
        "height": 1
    },
    {
        "id": "83f1d2f1.feaa1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": "6",
        "height": 1
    },
    {
        "id": "b032fd1f.f005d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": "6",
        "height": 1
    },
    {
        "id": "f830fdc9.c3f04",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": "6",
        "height": 1
    },
    {
        "id": "8a8a0368.ccd78",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 2,
        "width": "6",
        "height": 1
    },
    {
        "id": "f05333d8.ec1dc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 4,
        "width": "6",
        "height": 1
    },
    {
        "id": "16fa7938.d7f707",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": "6",
        "height": 1
    },
    {
        "id": "81dd3718.b97888",
        "type": "ui_group",
        "name": "Last Alarm Event",
        "tab": "4e11db25.239e94",
        "order": 1,
        "disp": true,
        "width": "20",
        "collapse": false
    },
    {
        "id": "980de09e.b8405",
        "type": "ui_group",
        "name": "Device Date",
        "tab": "4e11db25.239e94",
        "order": 6,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "1428a950.c17cb7",
        "type": "ui_group",
        "name": "Device Time",
        "tab": "4e11db25.239e94",
        "order": 7,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "b0b3ab21.677918",
        "type": "ui_group",
        "name": "Default",
        "tab": "59068f3.ae1777",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "59068f3.ae1777",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ui_group",
        "type": "ui_group",
        "name": "Default Group",
        "tab": "ui_tab",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ui_tab",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "aef5c431bd9b51a5",
        "type": "OPCUA-IIoT-Connector",
        "discoveryUrl": "",
        "endpoint": "",
        "endpointMustExist": false,
        "keepSessionAlive": true,
        "loginEnabled": false,
        "name": "LOCAL SERVER",
        "showErrors": false,
        "securityPolicy": "None",
        "securityMode": "None",
        "individualCerts": false,
        "publicCertificateFile": "",
        "privateKeyFile": "",
        "defaultSecureTokenLifetime": "",
        "autoSelectRightEndpoint": false,
        "strategyMaxRetry": "",
        "strategyInitialDelay": "",
        "strategyMaxDelay": "",
        "strategyRandomisationFactor": "",
        "requestedSessionTimeout": "",
        "connectionStartDelay": "",
        "reconnectDelay": "",
        "maxBadSessionRequests": "10"
    },
    {
        "id": "f75df87cccaface8",
        "type": "OPCUA-IIoT-Connector",
        "discoveryUrl": "",
        "endpoint": "opc.tcp://DESKTOP-BSC7DMC:53530/OPCUA/SimulationServer",
        "endpointMustExist": false,
        "keepSessionAlive": true,
        "loginEnabled": false,
        "name": "Prosys SERVER",
        "showErrors": false,
        "securityPolicy": "None",
        "securityMode": "None",
        "individualCerts": false,
        "publicCertificateFile": "",
        "privateKeyFile": "",
        "defaultSecureTokenLifetime": "",
        "autoSelectRightEndpoint": false,
        "strategyMaxRetry": "",
        "strategyInitialDelay": "",
        "strategyMaxDelay": "",
        "strategyRandomisationFactor": "",
        "requestedSessionTimeout": "",
        "connectionStartDelay": "",
        "reconnectDelay": "",
        "maxBadSessionRequests": "10"
    },
    {
        "id": "38d91f72.5e165a",
        "type": "ui_group",
        "name": "Switches",
        "tab": "2d049a39.a16c92",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2d049a39.a16c92",
        "type": "ui_tab",
        "name": "Control",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1c67a074.861f4",
        "type": "ui_group",
        "name": "Default",
        "tab": "8e4884bb.ff1388",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "8e4884bb.ff1388",
        "type": "ui_tab",
        "name": "testing",
        "icon": "dashboard"
    },
    {
        "id": "372d17da3af5a1ed",
        "type": "ui_spacer",
        "z": "26f3b45d2ead1e40",
        "name": "spacer",
        "group": "fa8a5e7250602190",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "c9c5cb102fb41a9d",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "c791fd6490f02264",
        "order": 2,
        "disp": true,
        "width": 6
    },
    {
        "id": "a17b7800f23f56c5",
        "type": "ui_group",
        "name": "Group 3",
        "tab": "c791fd6490f02264",
        "order": 3,
        "disp": true,
        "width": 6
    },
    {
        "id": "e75a2e46db0adee8",
        "type": "ui_group",
        "name": "Group 8",
        "tab": "4e11db25.239e94",
        "order": 8,
        "disp": true,
        "width": 6
    },
    {
        "id": "46d75f1293136bfc",
        "type": "ui_template",
        "z": "3b88af7013e8c9af",
        "group": "",
        "name": "",
        "order": 0,
        "width": "20",
        "height": "11",
        "format": "<div style=\"border: 2px solid black; padding: 20px; position: relative; height:92%;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:12px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:32px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:46px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:70px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:120px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:117px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:120px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:160px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:245px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:210px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:228px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:170px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:215px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:270px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:485px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:390px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:486px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:600px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:500px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:473px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:500px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:496px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:510px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:540px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:570px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:720px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:600px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:600px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:573px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:600px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:596.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:630px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:920px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:970px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1017px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1014px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:993px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1017px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1014px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:140px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:153px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:302px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:357px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:357px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:835px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1026px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:860px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:475px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:562px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:509px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:620px; top:394px; color:black;\">Winding</h3>\n</div>\n\n<div style=\"position:absolute; left:78px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <p><b>{{msg.payload[0]}}  Pa</b></p>\n</div>\n\n<div style=\"position:absolute; left:289px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <p><b>{{msg.payload[1]}}  %</b></p>\n</div>\n\n<div style=\"position:absolute; left:871px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <p><b>{{msg.payload[2]}}  %</b></p>\n</div>\n\n<div style=\"position:absolute; left:935px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <p><b>{{msg.payload[3]}}  °C</b></p>\n</div>\n\n<div style=\"position:absolute; left:918px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <p><b>{{msg.payload[4]}}  %</b></p>\n</div>\n\n<div style=\"position:absolute; left:906px; top:472px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\"></div>\n\n<div style=\"position:absolute; left:987px; top:482px; border:2px solid black; padding:0px 15px 0px 15px; border-radius:5px\">\n    <p><b>{{msg.payload[5]}}</b></p>\n</div>\n\n<div style=\"position:absolute; left:987px; top:525px; border:2px solid black; padding:0px 15px 0px 15px; border-radius:5px\">\n    <p><b>{{msg.payload[6]}}</b></p>\n</div>\n\n<p style=\"position:absolute; left:925px; top:484px;\"><b>%R.H</b></p>\n<p style=\"position:absolute; left:940px; top:528px;\"><b>°C</b></p>\n\n<p style=\"position:absolute; left:472px; top:129px;\">0</p>\n<p style=\"position:absolute; left:638px; top:129px;\">0</p>\n<p style=\"position:absolute; left:590px; top:289px;\">0</p>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 680,
        "y": 260,
        "wires": [
            [
                "b102b9ee023b4a88"
            ]
        ]
    },
    {
        "id": "edce652d398988b9",
        "type": "inject",
        "z": "3b88af7013e8c9af",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 260,
        "wires": [
            [
                "af261e8125e74338"
            ]
        ]
    },
    {
        "id": "b102b9ee023b4a88",
        "type": "debug",
        "z": "3b88af7013e8c9af",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 880,
        "y": 260,
        "wires": []
    },
    {
        "id": "af261e8125e74338",
        "type": "function",
        "z": "3b88af7013e8c9af",
        "name": "function 2",
        "func": "msg.payload = [\n    (Math.random() * 100).toFixed(2),\n    (Math.random() * 100).toFixed(2),\n    (Math.random() * 100).toFixed(2),\n    (Math.random() * 100).toFixed(2),\n    (Math.random() * 100).toFixed(2),\n    (Math.random() * 100).toFixed(1),\n    (Math.random() * 100).toFixed(1),\n];\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 260,
        "wires": [
            [
                "46d75f1293136bfc",
                "cf3b5fa991e3e557"
            ]
        ]
    },
    {
        "id": "cf3b5fa991e3e557",
        "type": "ui_gauge",
        "z": "3b88af7013e8c9af",
        "name": "",
        "group": "5620198f8ac98515",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "gauge",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 590,
        "y": 420,
        "wires": []
    },
    {
        "id": "bec5421a14768338",
        "type": "inject",
        "z": "9c4bb7e2844a79c8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ns=3;i=1003;datatype=Double",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 300,
        "wires": [
            [
                "ec38e304afa1c496"
            ]
        ]
    },
    {
        "id": "ac64a75ed00de49d",
        "type": "debug",
        "z": "9c4bb7e2844a79c8",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 300,
        "wires": []
    },
    {
        "id": "ec38e304afa1c496",
        "type": "OpcUa-Client",
        "z": "9c4bb7e2844a79c8",
        "d": true,
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 420,
        "y": 300,
        "wires": [
            [
                "ac64a75ed00de49d"
            ],
            []
        ]
    },
    {
        "id": "281b1b6aad9f5bc6",
        "type": "inject",
        "z": "805baf15573eaf8b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 280,
        "wires": [
            [
                "10aaaadd70b5df93"
            ]
        ]
    },
    {
        "id": "10aaaadd70b5df93",
        "type": "function",
        "z": "805baf15573eaf8b",
        "name": "function 3",
        "func": "msg1={};\nmsg2={};\nmsg3={};\nmsg4={};\nmsg5={};\nmsg6={};\n\nmsg1.topic=\"ns=3;i=1002;datatype=Int32\";\nmsg2.topic=\"ns=3;i=1003;datatype=Double\";\nmsg3.topic=\"ns=3;i=1004;datatype=Double\";\nmsg4.topic=\"ns=3;i=1005;datatype=Double\";\nmsg5.topic=\"ns=3;i=1006;datatype=Double\";\nmsg6.topic=\"ns=3;i=1007;datatype=Double\";\n\nreturn [msg1,msg2,msg3,msg4,msg5,msg6];",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 280,
        "wires": [
            [
                "f65212891197cf98"
            ],
            [
                "f65212891197cf98"
            ],
            [
                "f65212891197cf98"
            ],
            [
                "f65212891197cf98"
            ],
            [
                "f65212891197cf98"
            ],
            [
                "f65212891197cf98"
            ]
        ]
    },
    {
        "id": "27cff99d6abf399b",
        "type": "function",
        "z": "805baf15573eaf8b",
        "name": "function 4",
        "func": "var previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\n// Function to round to 2 decimal places\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nif (msg.topic == \"ns=3;i=1002\") {\n    previous.Counter = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1003\") {\n    previous.Random = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1004\") {\n    previous.Sawtooth = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1005\") {\n    previous.Sinusoid = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1006\") {\n    previous.Square = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1007\") {\n    previous.Triangle = roundToTwo(msg.payload);\n}\n\ncontext.set(\"previous\", previous);\n\n// Set a delay of 100ms to allow all messages to be processed\nif (!context.get(\"timer\")) {\n    context.set(\"timer\", true);\n    setTimeout(function() {\n        node.send({ payload: previous });\n        context.set(\"timer\", false);\n    }, 100);\n}\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 280,
        "wires": [
            [
                "c89943ffef7b0deb"
            ],
            [
                "c89943ffef7b0deb"
            ],
            [
                "c89943ffef7b0deb"
            ],
            [
                "c89943ffef7b0deb"
            ],
            [
                "c89943ffef7b0deb"
            ],
            [
                "c89943ffef7b0deb"
            ]
        ]
    },
    {
        "id": "f65212891197cf98",
        "type": "OpcUa-Client",
        "z": "805baf15573eaf8b",
        "d": true,
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 440,
        "y": 280,
        "wires": [
            [
                "27cff99d6abf399b"
            ],
            []
        ]
    },
    {
        "id": "c89943ffef7b0deb",
        "type": "ui_template",
        "z": "805baf15573eaf8b",
        "group": "7fc3a367a2e04348",
        "name": "",
        "order": 0,
        "width": "20",
        "height": "11",
        "format": "<div style=\"border: 2px solid black; padding: 20px; position: relative; height:92%;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:12px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:32px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:46px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:70px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:120px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:117px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:120px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:160px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:245px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:210px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:228px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:170px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:215px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:270px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:485px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:390px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:486px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:600px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:500px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:473px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:500px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:496px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:510px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:540px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:570px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:720px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:600px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:600px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:573px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:600px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:596.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:630px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:920px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:970px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1017px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1014px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:993px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1017px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1014px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:140px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:153px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:302px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:357px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:357px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:835px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1026px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:860px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:475px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:562px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:509px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:620px; top:394px; color:black;\">Winding</h3>\n</div>\n\n<div\n    style=\"position:absolute; left:78px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <span>{{msg.payload.Counter}}</span> Pa\n</div>\n\n<div\n    style=\"position:absolute; left:289px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <span>{{msg.payload.Random}}</span> %\n</div>\n\n<div\n    style=\"position:absolute; left:871px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <span>{{msg.payload.Sawtooth}}</span> %\n</div>\n\n<div\n    style=\"position:absolute; left:935px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <span>{{msg.payload.Sinusoid}}</span> °C\n</div>\n\n<div\n    style=\"position:absolute; left:918px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n    <span>{{msg.payload.Square}}</span> %\n</div>\n\n<div\n    style=\"position:absolute; left:906px; top:472px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    <span>{{msg.payload.Triangle}}</span>\n</div>\n\n<p style=\"position:absolute; left:925px; top:484px;\"><b>%R.H</b></p>\n<p style=\"position:absolute; left:940px; top:528px;\"><b>°C</b></p>\n\n<p style=\"position:absolute; left:472px; top:129px;\">0</p>\n<p style=\"position:absolute; left:638px; top:129px;\">0</p>\n<p style=\"position:absolute; left:590px; top:289px;\">0</p>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 760,
        "y": 280,
        "wires": [
            [
                "d868e72dec0294a8"
            ]
        ]
    },
    {
        "id": "d868e72dec0294a8",
        "type": "debug",
        "z": "805baf15573eaf8b",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 280,
        "wires": []
    },
    {
        "id": "e0bffeae7658d574",
        "type": "ui_numeric",
        "z": "98119508d188248a",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "c6f9a2c4b218e051",
        "order": 0,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "",
        "x": 170,
        "y": 420,
        "wires": [
            [
                "895683903e7f30ba"
            ]
        ]
    },
    {
        "id": "895683903e7f30ba",
        "type": "OpcUa-Client",
        "z": "98119508d188248a",
        "d": true,
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 380,
        "y": 300,
        "wires": [
            [
                "291bac0c4910b8c2"
            ],
            []
        ]
    },
    {
        "id": "291bac0c4910b8c2",
        "type": "debug",
        "z": "98119508d188248a",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 640,
        "y": 300,
        "wires": []
    },
    {
        "id": "7585509b1685f33e",
        "type": "inject",
        "z": "98119508d188248a",
        "name": "45",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ns=3;i=1008;datatype=Double",
        "payload": "45",
        "payloadType": "num",
        "x": 170,
        "y": 220,
        "wires": [
            [
                "895683903e7f30ba"
            ]
        ]
    },
    {
        "id": "f363777502f69e62",
        "type": "inject",
        "z": "98119508d188248a",
        "name": "50",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ns=3;i=1008;datatype=Double",
        "payload": "50",
        "payloadType": "num",
        "x": 170,
        "y": 320,
        "wires": [
            [
                "895683903e7f30ba"
            ]
        ]
    },
    {
        "id": "60a25c7f65040f6f",
        "type": "inject",
        "z": "405c9c6d1a0843b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 380,
        "wires": [
            [
                "52f24936cdd6f0b5"
            ]
        ]
    },
    {
        "id": "52f24936cdd6f0b5",
        "type": "function",
        "z": "405c9c6d1a0843b8",
        "name": "function 5",
        "func": "msg1={};\nmsg2={};\nmsg3={};\nmsg4={};\nmsg5={};\nmsg6={};\n\nmsg1.topic=\"ns=3;i=1002;datatype=Int32\";\nmsg2.topic=\"ns=3;i=1003;datatype=Double\";\nmsg3.topic=\"ns=3;i=1004;datatype=Double\";\nmsg4.topic=\"ns=3;i=1005;datatype=Double\";\nmsg5.topic=\"ns=3;i=1006;datatype=Double\";\nmsg6.topic=\"ns=3;i=1007;datatype=Double\";\n\nreturn [msg1,msg2,msg3,msg4,msg5,msg6];",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 380,
        "wires": [
            [
                "551172b1bd3112e0"
            ],
            [
                "551172b1bd3112e0"
            ],
            [
                "551172b1bd3112e0"
            ],
            [
                "551172b1bd3112e0"
            ],
            [
                "551172b1bd3112e0"
            ],
            [
                "551172b1bd3112e0"
            ]
        ]
    },
    {
        "id": "eaab1e17943d6630",
        "type": "function",
        "z": "405c9c6d1a0843b8",
        "name": "function 6",
        "func": "var previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\n// Function to round to 2 decimal places\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nif (msg.topic == \"ns=3;i=1002\") {\n    previous.Counter = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1003\") {\n    previous.Random = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1004\") {\n    previous.Sawtooth = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1005\") {\n    previous.Sinusoid = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1006\") {\n    previous.Square = roundToTwo(msg.payload);\n}\nif (msg.topic == \"ns=3;i=1007\") {\n    previous.Triangle = roundToTwo(msg.payload);\n}\n\ncontext.set(\"previous\", previous);\n\n// Set a delay of 100ms to allow all messages to be processed\nif (!context.get(\"timer\")) {\n    context.set(\"timer\", true);\n    setTimeout(function() {\n        node.send({ payload: previous });\n        context.set(\"timer\", false);\n    }, 100);\n}\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 380,
        "wires": [
            [
                "0969cf4bbc58e282"
            ],
            [
                "0969cf4bbc58e282"
            ],
            [
                "0969cf4bbc58e282"
            ],
            [
                "0969cf4bbc58e282"
            ],
            [
                "0969cf4bbc58e282"
            ],
            [
                "0969cf4bbc58e282"
            ]
        ]
    },
    {
        "id": "551172b1bd3112e0",
        "type": "OpcUa-Client",
        "z": "405c9c6d1a0843b8",
        "d": true,
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 440,
        "y": 380,
        "wires": [
            [
                "eaab1e17943d6630"
            ],
            []
        ]
    },
    {
        "id": "f240c4d9d1a9d508",
        "type": "debug",
        "z": "405c9c6d1a0843b8",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 500,
        "wires": []
    },
    {
        "id": "0969cf4bbc58e282",
        "type": "ui_template",
        "z": "405c9c6d1a0843b8",
        "group": "",
        "name": "",
        "order": 0,
        "width": "26",
        "height": "11",
        "format": "<div style=\"position: absolute; left: 0; top: 0; width: 145px; height: 100%; background-color: FireBrick;\"></div>\n<div style=\"position: absolute; right: 0; top: 0; width: 145px; height: 100%; background-color: FireBrick;\"></div>\n<div style=\"position: absolute; left: 0; bottom: 0; width: 100%; height: 65px; background-color: FireBrick;\"></div>\n\n<div style=\"transform: scale(0.9); left:200px; transform-origin: top left; width: 100%; height: 100%;\">\n    <!-- <div style=\"left:140px; border: 2px solid black; padding: 20px; position: relative; height:92%;\"></div> -->\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1143px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:658px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n<div>\n    <button id=\"button1\" class=\"button-style1\" style=\"top: 45px;\">Cards</button>\n    <button id=\"button2\" class=\"button-style1\" style=\"top: 100px;\">Knitting</button>\n    <button id=\"button3\" class=\"button-style1\" style=\"top: 155px;\">Preparatory</button>\n    <button id=\"button4\" class=\"button-style1\" style=\"top: 210px;\">Spinning 1</button>\n    <button id=\"button5\" class=\"button-style1\" style=\"top: 265px;\">Spinning 2</button>\n    <button id=\"button6\" class=\"button-style1\" style=\"top: 320px;\">Winding</button>\n    <button id=\"button7\" class=\"button-style1\" style=\"top: 430px; font-size: 14px; text: bold;\">Spinning 1 Unit-2</button>\n    <button id=\"button8\" class=\"button-style1\" style=\"top: 485px; font-size: 14px; text: bold;\">Spinning 2 Unit-2</button>\n    <button id=\"button9\" class=\"button-style1\" style=\"top: 540px; font-size: 14px; text: bold;\">Winding Unit-2</button>\n\n    <style>\n        .button-style1 {\n            position: absolute;\n            left: 6px;\n            background-color: white;\n            border: 2px solid black;\n            color: black;\n            padding: 5px 10px;\n            text-align: center;\n            font-size: 16px;\n            cursor: pointer;\n            border-radius: 6px;\n            height: 40px;\n            width: 130px;\n        }\n    </style>\n\n    <button id=\"button10\" class=\"button-style2\" style=\"top: 20px;\">Set Point</button>\n    <button id=\"button11\" class=\"button-style2\" style=\"top: 75px;\">Digital Input</button>\n    <button id=\"button12\" class=\"button-style2\" style=\"top: 130px;\">Digital Output</button>\n    <button id=\"button13\" class=\"button-style2\" style=\"top: 185px;\">Analog Input</button>\n    <button id=\"button14\" class=\"button-style2\" style=\"top: 240px;\">Analog Output</button>\n    <button id=\"button15\" class=\"button-style2\" style=\"top: 295px;\">Preset Values</button>\n    <button id=\"button16\" class=\"button-style2\" style=\"top: 350px;\">Timer</button>\n    <button id=\"button17\" class=\"button-style2\" style=\"top: 405px;\">Controllers</button>\n    <button id=\"button18\" class=\"button-style2\" style=\"top: 460px;\">UPSS</button>\n    <button id=\"button19\" class=\"button-style2\" style=\"top: 535px;\">Pump Min Set</button>\n\n    <style>\n        .button-style2 {\n            position: absolute;\n            left: 1210px;\n            background-color: white;\n            border: 2px solid black;\n            color: black;\n            padding: 5px 10px;\n            text-align: center;\n            font-size: 16px;\n            cursor: pointer;\n            border-radius: 6px;\n            height: 40px;\n            width: 130px;\n        }\n    </style>\n\n    <script>\n        (function(scope) {\n        // Loop through all buttons and add click event listeners\n        for (let i = 1; i <= 10; i++) {\n            document.getElementById(`button${i}`).onclick = function() {\n                scope.send({payload: `Button ${i} Clicked`});\n            };\n        }\n    })(scope);\n    </script>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 760,
        "y": 380,
        "wires": [
            [
                "22d5f1bfaa467967",
                "f240c4d9d1a9d508"
            ]
        ]
    },
    {
        "id": "22d5f1bfaa467967",
        "type": "function",
        "z": "405c9c6d1a0843b8",
        "name": "function 7",
        "func": "// Handle the click events for each button\nif (msg.payload.startsWith(\"Button\")) {\n    msg.payload = `${msg.payload} was clicked!`;\n    // Add any additional logic or actions here\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "32a23f2e9453c138",
        "type": "inject",
        "z": "625c3d21b7d74d34",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 380,
        "wires": [
            [
                "50a853c246bb5bbd"
            ]
        ]
    },
    {
        "id": "50a853c246bb5bbd",
        "type": "function",
        "z": "625c3d21b7d74d34",
        "name": "function 5",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 380,
        "wires": [
            [
                "910cfd911f24abb9"
            ],
            [
                "910cfd911f24abb9"
            ],
            [
                "910cfd911f24abb9"
            ],
            [
                "910cfd911f24abb9"
            ],
            [
                "910cfd911f24abb9"
            ],
            [
                "910cfd911f24abb9"
            ]
        ]
    },
    {
        "id": "f6bf03f3ce8d3e44",
        "type": "function",
        "z": "625c3d21b7d74d34",
        "name": "function 6",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 380,
        "wires": [
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ],
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ],
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ],
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ],
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ],
            [
                "956d1498517d8bdf",
                "21a16907415b5b29"
            ]
        ]
    },
    {
        "id": "0567f51b7ef75747",
        "type": "debug",
        "z": "625c3d21b7d74d34",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 380,
        "wires": []
    },
    {
        "id": "956d1498517d8bdf",
        "type": "http request",
        "z": "625c3d21b7d74d34",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/6cj8YKYBj5ERw8TZy8wt/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 890,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "910cfd911f24abb9",
        "type": "OpcUa-Client",
        "z": "625c3d21b7d74d34",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 440,
        "y": 380,
        "wires": [
            [
                "f6bf03f3ce8d3e44"
            ],
            []
        ]
    },
    {
        "id": "21a16907415b5b29",
        "type": "ui_template",
        "z": "625c3d21b7d74d34",
        "group": "",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!-- <div style=\"position: absolute; left: 0; top: 0; width: 145px; height: 100%; background-color: FireBrick;\"></div>\n<div style=\"position: absolute; right: 0; top: 0; width: 145px; height: 100%; background-color: FireBrick;\"></div>\n<div style=\"position: absolute; left: 0; bottom: 0; width: 100%; height: 65px; background-color: FireBrick;\"></div> -->\n\n<!-- <!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar Example</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            height: 90px;\n            width: 99.6%;\n            background-color: darkblue;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            position: fixed;\n            top: 0;\n            left: 1.9px;\n        }\n\n        .left-section {\n            display: flex;\n            align-items: center;\n        }\n\n        .company-logo {\n            height: 60px;\n            width: 60px;\n            background: white;\n            margin-left: 28px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            font-size: 27px;\n            font-weight: bold;\n            padding-left: 40px;\n        }\n\n        .right-section {\n            font-size: 20px;\n            padding: 20px;\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\">TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html> -->\n\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:200px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <!-- <div style=\"left:140px; border: 2px solid black; padding: 20px; position: relative; height:92%;\"></div> -->\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n<!-- <div>\n    <button id=\"button1\" class=\"button-style1\" style=\"top: 45px;\">Cards</button>\n    <button id=\"button2\" class=\"button-style1\" style=\"top: 100px;\">Knitting</button>\n    <button id=\"button3\" class=\"button-style1\" style=\"top: 155px;\">Preparatory</button>\n    <button id=\"button4\" class=\"button-style1\" style=\"top: 210px;\">Spinning 1</button>\n    <button id=\"button5\" class=\"button-style1\" style=\"top: 265px;\">Spinning 2</button>\n    <button id=\"button6\" class=\"button-style1\" style=\"top: 320px;\">Winding</button>\n    <button id=\"button7\" class=\"button-style1\" style=\"top: 430px; font-size: 14px; text: bold;\">Spinning 1 Unit-2</button>\n    <button id=\"button8\" class=\"button-style1\" style=\"top: 485px; font-size: 14px; text: bold;\">Spinning 2 Unit-2</button>\n    <button id=\"button9\" class=\"button-style1\" style=\"top: 540px; font-size: 14px; text: bold;\">Winding Unit-2</button>\n\n    <style>\n        .button-style1 {\n            position: absolute;\n            left: 6px;\n            background-color: white;\n            border: 2px solid black;\n            color: black;\n            padding: 5px 10px;\n            text-align: center;\n            font-size: 16px;\n            cursor: pointer;\n            border-radius: 6px;\n            height: 40px;\n            width: 130px;\n        }\n    </style>\n\n    <button id=\"button10\" class=\"button-style2\" style=\"top: 20px;\">Set Point</button>\n    <button id=\"button11\" class=\"button-style2\" style=\"top: 75px;\">Digital Input</button>\n    <button id=\"button12\" class=\"button-style2\" style=\"top: 130px;\">Digital Output</button>\n    <button id=\"button13\" class=\"button-style2\" style=\"top: 185px;\">Analog Input</button>\n    <button id=\"button14\" class=\"button-style2\" style=\"top: 240px;\">Analog Output</button>\n    <button id=\"button15\" class=\"button-style2\" style=\"top: 295px;\">Preset Values</button>\n    <button id=\"button16\" class=\"button-style2\" style=\"top: 350px;\">Timer</button>\n    <button id=\"button17\" class=\"button-style2\" style=\"top: 405px;\">Controllers</button>\n    <button id=\"button18\" class=\"button-style2\" style=\"top: 460px;\">UPSS</button>\n    <button id=\"button19\" class=\"button-style2\" style=\"top: 535px;\">Pump Min Set</button>\n\n    <style>\n        .button-style2 {\n            position: absolute;\n            left: 1210px;\n            background-color: white;\n            border: 2px solid black;\n            color: black;\n            padding: 5px 10px;\n            text-align: center;\n            font-size: 16px;\n            cursor: pointer;\n            border-radius: 6px;\n            height: 40px;\n            width: 130px;\n        }\n    </style>\n\n    <script>\n        (function(scope) {\n        // Loop through all buttons and add click event listeners\n        for (let i = 1; i <= 10; i++) {\n            document.getElementById(`button${i}`).onclick = function() {\n                scope.send({payload: `Button ${i} Clicked`});\n            };\n        }\n    })(scope);\n    </script>\n\n</div> -->\n\n<div class=\"sidebar\">\n    <button id=\"unit1\" class=\"module-button\" onclick=\"toggleSubmodules('unit1Submodules')\"><b>Unit 1</b></button>\n    <div id=\"unit1Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit2\" class=\"module-button\" onclick=\"toggleSubmodules('unit2Submodules')\"><b>Unit 2</b></button>\n    <div id=\"unit2Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules')\"><b>Settings</b></button>\n    <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules')\"><b>Reports</b></button>\n    <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n</div>\n\n<style>\n    body {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        height: 100%;\n        /* Ensure the body takes up the full viewport height */\n    }\n\n    .sidebar {\n        position: absolute;\n        width: 150px;\n        height: 82.6%;\n        top: 89.5px;\n        left: -3px;\n        background-color: maroon;\n        padding-top: 20px;\n        /* padding-bottom: 10px; */\n        border: 2px solid black;\n    }\n\n    .module-button {\n        width: 100%;\n        background-color: maroon;\n        color: white;\n        padding: 10px;\n        text-align: left;\n        border-left: 4.5px solid black;\n        border-bottom: 2px solid black;\n        outline: none;\n        cursor: pointer;\n        font-size: 15px;\n        transition: 0.3s;\n        margin-bottom: 10px;\n        box-sizing: border-box;\n        /* Ensures padding is included in total width */\n    }\n\n    .module-button:last-of-type {\n        margin-bottom: 0;\n    }\n\n    .module-button:hover {\n        background-color: #45a049;\n    }\n\n    .submodule-container {\n        display: none;\n        padding-left: 10px;\n    }\n\n    .submodule-button {\n        background-color: white;\n        border: 2px solid #ddd;\n        color: black;\n        padding: 5px;\n        text-align: center;\n        font-size: 14px;\n        cursor: pointer;\n        border-radius: 6px;\n        width: 130px;\n        margin-top: 10px;\n    }\n\n    .submodule-button:last-of-type {\n        margin-bottom: 10px;\n    }\n\n    .submodule-button:hover {\n        background-color: #ddd;\n    }\n</style>\n\n<div id=\"opcuaWriteContainer\" style=\"display:none;\">\n    <label for=\"setPointInput\">Set Point:</label>\n    <input type=\"number\" id=\"setPointInput\" min=\"0\" max=\"100\" step=\"1\" value=\"0\" style=\"width: 100px;\">\n    <button onclick=\"writeToOpcUa()\">Write</button>\n</div>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'unit1Submodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding'];\n                break;\n            case 'unit2Submodules':\n                submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Dashboard', 'Trends', 'Report'];\n                break;\n        }\n        container.innerHTML = ''; // Clear previous submodules\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.innerHTML = submodule;\n            btn.onclick = function () {\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                }\n                else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n                    document.getElementById('spinning1Div').style.display = 'none';\n                } \n                else if (submodule === 'Dashboard') {\n                    window.open('http://localhost:3000/dashboards', '_blank');\n                } \n                else if (submodule === 'Report') {\n                    window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                } \n                else {\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n</script>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 380,
        "wires": [
            [
                "0567f51b7ef75747"
            ]
        ]
    },
    {
        "id": "6c6dfbea51ced4bc",
        "type": "OpcUa-Client",
        "z": "625c3d21b7d74d34",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 560,
        "y": 520,
        "wires": [
            [
                "f6bf03f3ce8d3e44"
            ],
            []
        ]
    },
    {
        "id": "6c1e2fa58bf9c463",
        "type": "ui_template",
        "z": "625c3d21b7d74d34",
        "group": "",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"padding: 20px;\">\n    <label for=\"setpoint\">Set Point:</label>\n    <input type=\"number\" id=\"setpoint\" step=\"1\" placeholder=\"Enter value\">\n    <button onclick=\"writeValue()\">Set</button>\n</div>\n\n<script>\n    function writeValue() {\n        var value = document.getElementById(\"setpoint\").value;\n        var payload = {\n            topic: \"ns=3;i=1008;datatype=Double\",  // The NodeID and datatype for writing\n            payload: parseFloat(value)  // Payload value to write\n        };\n        // Send the payload to the Node-RED flow\n        node.send(payload);\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 280,
        "y": 560,
        "wires": [
            [
                "6c6dfbea51ced4bc"
            ]
        ]
    },
    {
        "id": "1a9947c1d5cad7e6",
        "type": "template",
        "z": "625c3d21b7d74d34",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<div style=\"padding: 20px;\">\n    <label for=\"setpoint\">Set Point:</label>\n    <input type=\"number\" id=\"setpoint\" step=\"1\" placeholder=\"Enter value\">\n    <button onclick=\"writeValue()\">Set</button>\n</div>\n\n<script>\n    function writeValue() {\n        var value = document.getElementById(\"setpoint\").value;\n        var payload = {\n            topic: \"ns=3;i=1008;datatype=Double\",  // The NodeID and datatype for writing\n            payload: parseFloat(value)  // Payload value to write\n        };\n        // Send the payload to the Node-RED flow\n        node.send(payload);\n    }\n</script>\n",
        "output": "str",
        "x": 280,
        "y": 500,
        "wires": [
            [
                "6c6dfbea51ced4bc"
            ]
        ]
    },
    {
        "id": "6464ca6e34903092",
        "type": "inject",
        "z": "fe9b19e06ae3a382",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 240,
        "wires": [
            [
                "9d3a980ee7a410c2"
            ]
        ]
    },
    {
        "id": "9d3a980ee7a410c2",
        "type": "function",
        "z": "fe9b19e06ae3a382",
        "name": "function 8",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 240,
        "wires": [
            [
                "496c2237fc64638b"
            ],
            [
                "496c2237fc64638b"
            ],
            [
                "496c2237fc64638b"
            ],
            [
                "496c2237fc64638b"
            ],
            [
                "496c2237fc64638b"
            ],
            [
                "496c2237fc64638b"
            ]
        ]
    },
    {
        "id": "e97b2810dad19343",
        "type": "function",
        "z": "fe9b19e06ae3a382",
        "name": "function 9",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 240,
        "wires": [
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ],
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ],
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ],
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ],
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ],
            [
                "c03313ebac33241f",
                "24e4afac01c59618"
            ]
        ]
    },
    {
        "id": "496c2237fc64638b",
        "type": "OpcUa-Client",
        "z": "fe9b19e06ae3a382",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 540,
        "y": 240,
        "wires": [
            [
                "e97b2810dad19343"
            ],
            []
        ]
    },
    {
        "id": "970a2eae5d1137c1",
        "type": "OpcUa-Client",
        "z": "fe9b19e06ae3a382",
        "d": true,
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 800,
        "y": 400,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "custom-numeric-styles",
        "type": "ui_template",
        "z": "fe9b19e06ae3a382",
        "group": "",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "c03313ebac33241f",
        "type": "ui_template",
        "z": "fe9b19e06ae3a382",
        "group": "",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar Example</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            height: 90px;\n            width: 99.6%;\n            background-color: #0076CE;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            position: fixed;\n            top: 0;\n            left: 1.9px;\n        }\n\n        .left-section {\n            display: flex;\n            align-items: center;\n        }\n\n        .company-logo {\n            height: 60px;\n            width: 60px;\n            background: white;\n            margin-left: 28px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            font-size: 27px;\n            font-weight: bold;\n            padding-left: 40px;\n        }\n\n        .right-section {\n            font-size: 17px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\">TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:200px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<div class=\"sidebar\">\n    <button id=\"unit1\" class=\"module-button\" onclick=\"toggleSubmodules('unit1Submodules')\"><b>Unit 1</b></button>\n    <div id=\"unit1Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit2\" class=\"module-button\" onclick=\"toggleSubmodules('unit2Submodules')\"><b>Unit 2</b></button>\n    <div id=\"unit2Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules')\"><b>Settings</b></button>\n    <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules')\"><b>Reports</b></button>\n    <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n</div>\n\n<style>\n    body {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        height: 100%;\n        /* Ensure the body takes up the full viewport height */\n    }\n\n    .sidebar {\n        position: absolute;\n        width: 150px;\n        height: 82.6%;\n        top: 89.5px;\n        left: -2px;\n        background-color: #000060;\n        padding-top: 20px;\n        /* padding-bottom: 10px; */\n        border: 2px solid black;\n    }\n\n    .module-button {\n        width: 100%;\n        background-color: #000060;\n        color: white;\n        padding: 10px;\n        text-align: left;\n        border-left: 4.5px solid black;\n        border-bottom: 2px solid black;\n        outline: none;\n        cursor: pointer;\n        font-size: 15px;\n        transition: 0.3s;\n        margin-bottom: 10px;\n        box-sizing: border-box;\n        /* Ensures padding is included in total width */\n    }\n\n    .module-button:last-of-type {\n        margin-bottom: 0;\n    }\n\n    .module-button:hover {\n        background-color: #0076CE;\n    }\n\n    .submodule-container {\n        display: none;\n        padding-left: 10px;\n    }\n\n    .submodule-button {\n        background-color: white;\n        border: 2px solid #ddd;\n        color: black;\n        padding: 5px;\n        text-align: center;\n        font-size: 14px;\n        cursor: pointer;\n        border-radius: 6px;\n        width: 130px;\n        margin-top: 10px;\n    }\n\n    .submodule-button:last-of-type {\n        margin-bottom: 10px;\n    }\n\n    .submodule-button:hover {\n        background-color: #ddd;\n    }\n</style>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                case 'unit1Submodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding'];\n                    break;\n                case 'unit2Submodules':\n                    submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Dashboard', 'Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Dashboard') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 540,
        "y": 400,
        "wires": [
            [
                "970a2eae5d1137c1",
                "22916e9e4a58a52d"
            ]
        ]
    },
    {
        "id": "f616f816fb3537f1",
        "type": "ui_numeric",
        "z": "fe9b19e06ae3a382",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 330,
        "y": 400,
        "wires": [
            [
                "c03313ebac33241f"
            ]
        ]
    },
    {
        "id": "22916e9e4a58a52d",
        "type": "debug",
        "z": "fe9b19e06ae3a382",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 480,
        "wires": []
    },
    {
        "id": "24e4afac01c59618",
        "type": "http request",
        "z": "fe9b19e06ae3a382",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/6cj8YKYBj5ERw8TZy8wt/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 910,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c2072a9ff6558dcc",
        "type": "inject",
        "z": "8b462604fafe168c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 200,
        "wires": [
            [
                "67e427b895c93c06"
            ]
        ]
    },
    {
        "id": "67e427b895c93c06",
        "type": "function",
        "z": "8b462604fafe168c",
        "name": "function 11",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 200,
        "wires": [
            [
                "364ef10cc7f7d2f1"
            ],
            [
                "364ef10cc7f7d2f1"
            ],
            [
                "364ef10cc7f7d2f1"
            ],
            [
                "364ef10cc7f7d2f1"
            ],
            [
                "364ef10cc7f7d2f1"
            ],
            [
                "364ef10cc7f7d2f1"
            ]
        ]
    },
    {
        "id": "69893c55809014ee",
        "type": "function",
        "z": "8b462604fafe168c",
        "name": "function 12",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 200,
        "wires": [
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ],
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ],
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ],
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ],
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ],
            [
                "c880dc875cc17696",
                "2bc192913a6450ad"
            ]
        ]
    },
    {
        "id": "364ef10cc7f7d2f1",
        "type": "OpcUa-Client",
        "z": "8b462604fafe168c",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 600,
        "y": 200,
        "wires": [
            [
                "69893c55809014ee",
                "f73440679f91bc60"
            ],
            []
        ]
    },
    {
        "id": "6bb54aeb7f352fe3",
        "type": "ui_template",
        "z": "8b462604fafe168c",
        "group": "",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 200,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "c880dc875cc17696",
        "type": "ui_template",
        "z": "8b462604fafe168c",
        "group": "",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<div class=\"sidebar\">\n    <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules')\"><b>Home</b></button>\n    <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit1\" class=\"module-button\" onclick=\"toggleSubmodules('unit1Submodules')\"><b>Unit 1</b></button>\n    <div id=\"unit1Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit2\" class=\"module-button\" onclick=\"toggleSubmodules('unit2Submodules')\"><b>Unit 2</b></button>\n    <div id=\"unit2Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules')\"><b>Alarms</b></button>\n    <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules')\"><b>Settings</b></button>\n    <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules')\"><b>Reports</b></button>\n    <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n</div>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar Example</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 90px;\n            width: 99.6%;\n            background-color: #0076CE;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 1.8px;\n        }\n\n        .left-section {\n            display: flex;\n            align-items: center;\n        }\n\n        .company-logo {\n            height: 60px;\n            width: 60px;\n            background: white;\n            margin-left: 28px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            font-size: 27px;\n            font-weight: bold;\n            padding-left: 40px;\n        }\n\n        .right-section {\n            font-size: 17px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\">TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:200px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position: absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position: absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position: absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<!-- <div id=\"chartdiv\">\n    <style>\n        .chart {\n            position: absolute;\n            background-color: orange;\n            border: 5px solid red;\n            top:100px;\n            left:200px;\n            height: 100%;\n            width: 100%;\n        }\n    </style>\n</div> -->\n\n<style>\n    body {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        height: 100%;\n        /* Ensure the body takes up the full viewport height */\n    }\n\n    .sidebar {\n        position: absolute;\n        width: 150px;\n        height: 100%;\n        top: 89.5px;\n        left: -2px;\n        background-color: #000060;\n        padding-top: 20px;\n        /* padding-bottom: 10px; */\n        border: 2px solid black;\n    }\n\n    .module-button {\n        width: 100%;\n        background-color: #000060;\n        color: white;\n        padding: 10px;\n        text-align: left;\n        border-left: 4.5px solid black;\n        border-bottom: 2px solid black;\n        outline: none;\n        cursor: pointer;\n        font-size: 15px;\n        transition: 0.3s;\n        margin-bottom: 10px;\n        box-sizing: border-box;\n        /* Ensures padding is included in total width */\n    }\n\n    .module-button:last-of-type {\n        margin-bottom: 0;\n    }\n\n    .module-button:hover {\n        background-color: #0076CE;\n    }\n\n    .submodule-container {\n        display: none;\n        padding-left: 10px;\n    }\n\n    .submodule-button {\n        background-color: white;\n        border: 2px solid #ddd;\n        color: black;\n        padding: 5px;\n        text-align: center;\n        font-size: 14px;\n        cursor: pointer;\n        border-radius: 6px;\n        width: 130px;\n        margin-top: 10px;\n    }\n\n    .submodule-button:last-of-type {\n        margin-bottom: 10px;\n    }\n\n    .submodule-button:hover {\n        background-color: #ddd;\n    }\n</style>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                case 'homeSubmodules':\n                    submodules = ['Dashboard'];\n                    break;\n                case 'unit1Submodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding'];\n                    break;\n                case 'unit2Submodules':\n                    submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 600,
        "y": 360,
        "wires": [
            [
                "c52ee6fbb023f95a",
                "4f5eba40e0bf4a35",
                "f73440679f91bc60"
            ]
        ]
    },
    {
        "id": "5518a49704718af7",
        "type": "ui_numeric",
        "z": "8b462604fafe168c",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "c880dc875cc17696"
            ]
        ]
    },
    {
        "id": "c52ee6fbb023f95a",
        "type": "debug",
        "z": "8b462604fafe168c",
        "name": "debug 9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 440,
        "wires": []
    },
    {
        "id": "2bc192913a6450ad",
        "type": "http request",
        "z": "8b462604fafe168c",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/6cj8YKYBj5ERw8TZy8wt/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1010,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "4f5eba40e0bf4a35",
        "type": "OpcUa-Client",
        "z": "8b462604fafe168c",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 840,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f73440679f91bc60",
        "type": "ui_chart",
        "z": "8b462604fafe168c",
        "name": "",
        "group": "",
        "order": 1,
        "width": "24",
        "height": "9",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "5",
        "removeOlder": "1",
        "removeOlderPoints": "10",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "chart",
        "x": 730,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "bd851d0d49b4cef0",
        "type": "inject",
        "z": "eea8f516057bdf2c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "62452ede6b57d354"
            ]
        ]
    },
    {
        "id": "62452ede6b57d354",
        "type": "function",
        "z": "eea8f516057bdf2c",
        "name": "Generate Topics",
        "func": "msg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 380,
        "wires": [
            [
                "b8d1d55d4f251352"
            ],
            [
                "b8d1d55d4f251352"
            ],
            [
                "b8d1d55d4f251352"
            ],
            [
                "b8d1d55d4f251352"
            ],
            [
                "b8d1d55d4f251352"
            ],
            [
                "b8d1d55d4f251352"
            ]
        ]
    },
    {
        "id": "b8d1d55d4f251352",
        "type": "OpcUa-Client",
        "z": "eea8f516057bdf2c",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 460,
        "y": 260,
        "wires": [
            [
                "2b0c641a99c57112"
            ],
            []
        ]
    },
    {
        "id": "2b0c641a99c57112",
        "type": "function",
        "z": "eea8f516057bdf2c",
        "name": "Process Data",
        "func": "var chartData = {\n    series: [],\n    data: [],\n    labels: []\n};\n\nif (msg.topic === \"ns=3;i=1008\") {\n    chartData.series.push(\"Counter\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Counter }]);\n    chartData.labels.push(\"Counter\");\n} else if (msg.topic === \"ns=3;i=1003\") {\n    chartData.series.push(\"Random\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Random }]);\n    chartData.labels.push(\"Random\");\n} else if (msg.topic === \"ns=3;i=1004\") {\n    chartData.series.push(\"Sawtooth\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Sawtooth }]);\n    chartData.labels.push(\"Sawtooth\");\n} else if (msg.topic === \"ns=3;i=1005\") {\n    chartData.series.push(\"Sinusoid\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Sinusoid }]);\n    chartData.labels.push(\"Sinusoid\");\n} else if (msg.topic === \"ns=3;i=1006\") {\n    chartData.series.push(\"Square\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Square }]);\n    chartData.labels.push(\"Square\");\n} else if (msg.topic === \"ns=3;i=1007\") {\n    chartData.series.push(\"Triangle\");\n    chartData.data.push([{ x: new Date(), y: msg.payload.Triangle }]);\n    chartData.labels.push(\"Triangle\");\n}\n\nif (chartData.series.length > 0) {\n    msg.payload = [chartData];\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 260,
        "wires": [
            [
                "4dd7e50bd198cd7d",
                "b5284044d1a86379"
            ]
        ]
    },
    {
        "id": "4dd7e50bd198cd7d",
        "type": "ui_chart",
        "z": "eea8f516057bdf2c",
        "name": "Real-Time Chart",
        "group": "",
        "order": 1,
        "width": 12,
        "height": 6,
        "label": "Real-Time Data",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "No data",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#ff7f0e",
            "#2ca02c",
            "#d62728",
            "#9467bd",
            "#8c564b",
            "#000000",
            "#000000",
            "#000000"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 870,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "b5284044d1a86379",
        "type": "debug",
        "z": "eea8f516057bdf2c",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 380,
        "wires": []
    },
    {
        "id": "dbda8554f9ba2fc2",
        "type": "inject",
        "z": "6133908ce2256718",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "636bec7bd3d80d41"
            ]
        ]
    },
    {
        "id": "fb865c98076f6684",
        "type": "OpcUa-Client",
        "z": "6133908ce2256718",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 620,
        "y": 280,
        "wires": [
            [
                "d77181a6172e34c8",
                "dd360e2e9c424d96"
            ],
            []
        ]
    },
    {
        "id": "d77181a6172e34c8",
        "type": "ui_chart",
        "z": "6133908ce2256718",
        "name": "",
        "group": "",
        "order": 1,
        "width": "22",
        "height": "11",
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "5",
        "removeOlder": "1",
        "removeOlderPoints": "10",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 810,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "636bec7bd3d80d41",
        "type": "function",
        "z": "6133908ce2256718",
        "name": "function 10",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 280,
        "wires": [
            [
                "fb865c98076f6684"
            ],
            [
                "fb865c98076f6684"
            ],
            [
                "fb865c98076f6684"
            ],
            [
                "fb865c98076f6684"
            ],
            [
                "fb865c98076f6684"
            ],
            [
                "fb865c98076f6684"
            ]
        ]
    },
    {
        "id": "dd360e2e9c424d96",
        "type": "debug",
        "z": "6133908ce2256718",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 400,
        "wires": []
    },
    {
        "id": "8ee1851d4057edec",
        "type": "OpcUa-Client",
        "z": "a44c74cf86307afb",
        "d": true,
        "endpoint": "7b601203148e4e9b",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 200,
        "y": 300,
        "wires": [
            [
                "3cbc1e9d59be5e63"
            ],
            []
        ]
    },
    {
        "id": "3cbc1e9d59be5e63",
        "type": "function",
        "z": "a44c74cf86307afb",
        "name": "function 13",
        "func": "msg.payload = msg.payload['VAR-1'];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 300,
        "wires": [
            [
                "44f157e32325a1d7"
            ]
        ]
    },
    {
        "id": "44f157e32325a1d7",
        "type": "debug",
        "z": "a44c74cf86307afb",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 300,
        "wires": []
    },
    {
        "id": "6b25c8aea64f1574",
        "type": "OpcUa-Browser",
        "z": "a44c74cf86307afb",
        "endpoint": "",
        "item": "",
        "datatype": "",
        "topic": "",
        "items": [],
        "name": "",
        "x": 410,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "607ba8a2f2d70c47",
        "type": "OPCUA-IIoT-Browser",
        "z": "a44c74cf86307afb",
        "nodeId": "",
        "name": "",
        "justValue": true,
        "sendNodesToRead": false,
        "sendNodesToBrowser": false,
        "sendNodesToListener": false,
        "multipleOutputs": false,
        "showStatusActivities": false,
        "showErrors": false,
        "recursiveBrowse": false,
        "recursiveDepth": 1,
        "delayPerMessage": 0.2,
        "connector": "",
        "x": 160,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "cafb9c9d4c854d68",
        "type": "inject",
        "z": "8b2f8db6ec4655d9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 493.2901611328125,
        "y": 238.2946319580078,
        "wires": [
            [
                "faf1f7a6a240d318"
            ]
        ]
    },
    {
        "id": "faf1f7a6a240d318",
        "type": "function",
        "z": "8b2f8db6ec4655d9",
        "name": "function 14",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 663.2901611328125,
        "y": 238.2946319580078,
        "wires": [
            [
                "dde1b6e798f4300c"
            ],
            [
                "dde1b6e798f4300c"
            ],
            [
                "dde1b6e798f4300c"
            ],
            [
                "dde1b6e798f4300c"
            ],
            [
                "dde1b6e798f4300c"
            ],
            [
                "dde1b6e798f4300c"
            ]
        ]
    },
    {
        "id": "55cc9816e3cf6183",
        "type": "function",
        "z": "8b2f8db6ec4655d9",
        "name": "function 15",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1063.2901611328125,
        "y": 238.2946319580078,
        "wires": [
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ],
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ],
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ],
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ],
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ],
            [
                "973aa0706a3890e2",
                "e3654ba4b9f4b82c"
            ]
        ]
    },
    {
        "id": "dde1b6e798f4300c",
        "type": "OpcUa-Client",
        "z": "8b2f8db6ec4655d9",
        "d": true,
        "endpoint": "deb070e0bbd83f21",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 893.2901611328125,
        "y": 238.2946319580078,
        "wires": [
            [
                "55cc9816e3cf6183",
                "8c76dbae02f660bc"
            ],
            []
        ]
    },
    {
        "id": "9ac084deae8a6937",
        "type": "ui_template",
        "z": "8b2f8db6ec4655d9",
        "group": "",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 493.2901611328125,
        "y": 398.2946319580078,
        "wires": [
            []
        ]
    },
    {
        "id": "973aa0706a3890e2",
        "type": "ui_template",
        "z": "8b2f8db6ec4655d9",
        "group": "9cbe2d4f.e4c55",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<div class=\"sidebar\">\n    <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules')\"><b>Home</b></button>\n    <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit1\" class=\"module-button\" onclick=\"toggleSubmodules('unit1Submodules')\"><b>Unit 1</b></button>\n    <div id=\"unit1Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit2\" class=\"module-button\" onclick=\"toggleSubmodules('unit2Submodules')\"><b>Unit 2</b></button>\n    <div id=\"unit2Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules')\"><b>Alarms</b></button>\n    <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules')\"><b>Settings</b></button>\n    <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules')\"><b>Reports</b></button>\n    <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n</div>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar Example</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 90px;\n            width: 99.6%;\n            background-color: #000060;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 1.8px;\n        }\n\n        .left-section {\n            display: flex;\n            align-items: center;\n        }\n\n        .company-logo {\n            height: 60px;\n            width: 60px;\n            background: white;\n            margin-left: 28px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            font-size: 27px;\n            font-weight: bold;\n            padding-left: 40px;\n        }\n\n        .right-section {\n            font-size: 17px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\">TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:200px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<!-- <div id=\"chartdiv\">\n    <style>\n        .chart {\n            position: absolute;\n            background-color: orange;\n            border: 5px solid red;\n            top:100px;\n            left:200px;\n            height: 100%;\n            width: 100%;\n        }\n    </style>\n</div> -->\n\n<style>\n    body {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        height: 100%;\n        /* Ensure the body takes up the full viewport height */\n    }\n\n    .sidebar {\n        position: absolute;\n        width: 150px;\n        height: 100%;\n        top: 89.5px;\n        left: -2px;\n        background-color: #000060;\n        padding-top: 20px;\n        /* padding-bottom: 10px; */\n        border: 2px solid black;\n    }\n\n    .module-button {\n        width: 100%;\n        background-color: #000060;\n        color: white;\n        padding: 10px;\n        text-align: left;\n        border-left: 4.5px solid black;\n        border-bottom: 2px solid black;\n        outline: none;\n        cursor: pointer;\n        font-size: 15px;\n        transition: 0.3s;\n        margin-bottom: 10px;\n        box-sizing: border-box;\n        /* Ensures padding is included in total width */\n    }\n\n    .module-button:last-of-type {\n        margin-bottom: 0;\n    }\n\n    .module-button:hover {\n        background-color: #0076CE;\n    }\n\n    .submodule-container {\n        display: none;\n        padding-left: 10px;\n    }\n\n    .submodule-button {\n        background-color: white;\n        border: 2px solid #ddd;\n        color: black;\n        padding: 5px;\n        text-align: center;\n        font-size: 14px;\n        cursor: pointer;\n        border-radius: 6px;\n        width: 130px;\n        margin-top: 10px;\n    }\n\n    .submodule-button:last-of-type {\n        margin-bottom: 10px;\n    }\n\n    .submodule-button:hover {\n        background-color: #ddd;\n    }\n</style>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                case 'homeSubmodules':\n                    submodules = ['Dashboard'];\n                    break;\n                case 'unit1Submodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding'];\n                    break;\n                case 'unit2Submodules':\n                    submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 400,
        "wires": [
            [
                "30027a2ea5a83e0f",
                "d9cf860ac2621ddd",
                "8c76dbae02f660bc"
            ]
        ]
    },
    {
        "id": "982571c75d5d0a4a",
        "type": "ui_numeric",
        "z": "8b2f8db6ec4655d9",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 653.2901611328125,
        "y": 398.2946319580078,
        "wires": [
            [
                "973aa0706a3890e2"
            ]
        ]
    },
    {
        "id": "30027a2ea5a83e0f",
        "type": "debug",
        "z": "8b2f8db6ec4655d9",
        "name": "debug 11",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1113.2901611328125,
        "y": 478.2946319580078,
        "wires": []
    },
    {
        "id": "e3654ba4b9f4b82c",
        "type": "http request",
        "z": "8b2f8db6ec4655d9",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/6cj8YKYBj5ERw8TZy8wt/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1293.2901611328125,
        "y": 238.2946319580078,
        "wires": [
            []
        ]
    },
    {
        "id": "d9cf860ac2621ddd",
        "type": "OpcUa-Client",
        "z": "8b2f8db6ec4655d9",
        "endpoint": "deb070e0bbd83f21",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 1133.2901611328125,
        "y": 398.2946319580078,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8c76dbae02f660bc",
        "type": "ui_chart",
        "z": "8b2f8db6ec4655d9",
        "name": "",
        "group": "",
        "order": 1,
        "width": "24",
        "height": "9",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "5",
        "removeOlder": "1",
        "removeOlderPoints": "10",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "chart",
        "x": 993.2901611328125,
        "y": 138.2946319580078,
        "wires": [
            []
        ]
    },
    {
        "id": "807ec5776f12fc1e",
        "type": "inject",
        "z": "7caea176b0e12d74",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 470.2901611328125,
        "y": 199.2946319580078,
        "wires": [
            [
                "80fd0a684c8265ab"
            ]
        ]
    },
    {
        "id": "80fd0a684c8265ab",
        "type": "function",
        "z": "7caea176b0e12d74",
        "name": "function 16",
        "func": "msg.topic = \"ns=3;i=1002;datatype=Int32\";\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 200,
        "wires": [
            [
                "b8039c236869d287"
            ]
        ]
    },
    {
        "id": "b8039c236869d287",
        "type": "OpcUa-Client",
        "z": "7caea176b0e12d74",
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "2561c5e0e1483632"
            ],
            []
        ]
    },
    {
        "id": "2561c5e0e1483632",
        "type": "function",
        "z": "7caea176b0e12d74",
        "name": "function 17",
        "func": "var payload = {\n    \"Counter\": msg.payload // Ensure the value is mapped correctly\n};\n\n// Prepare the message to be sent to ThingsBoard\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040.2901611328125,
        "y": 199.2946319580078,
        "wires": [
            [
                "2fb66a1e1dc1a4c8",
                "7559c3adda05a9d3"
            ]
        ]
    },
    {
        "id": "2fb66a1e1dc1a4c8",
        "type": "http request",
        "z": "7caea176b0e12d74",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/La8BtWwGzZDt3nxBjeIy/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1230,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7559c3adda05a9d3",
        "type": "debug",
        "z": "7caea176b0e12d74",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1100,
        "y": 320,
        "wires": []
    },
    {
        "id": "a24c03772b900133",
        "type": "http request",
        "z": "1c5bd0c7e1fa24d6",
        "name": "Fetch Telemetry",
        "method": "GET",
        "ret": "json",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/bPpBh0RQfNsbVt4yv1q7/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 140,
        "y": 100,
        "wires": [
            [
                "f87b16d1c0c42629"
            ]
        ]
    },
    {
        "id": "f87b16d1c0c42629",
        "type": "function",
        "z": "1c5bd0c7e1fa24d6",
        "name": "Format for OPC UA",
        "func": "msg.topic = \"ns=3;i=1008;datatype=Double\"; // OPC UA node\nmsg.payload = msg.payload; // Adjust as needed\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 100,
        "wires": [
            [
                "f3951f80cd916067"
            ]
        ]
    },
    {
        "id": "f3951f80cd916067",
        "type": "OpcUa-Client",
        "z": "1c5bd0c7e1fa24d6",
        "d": true,
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "Write to OPC UA",
        "x": 600,
        "y": 100,
        "wires": [
            [
                "89e3415bef693ca8"
            ],
            []
        ]
    },
    {
        "id": "89e3415bef693ca8",
        "type": "debug",
        "z": "1c5bd0c7e1fa24d6",
        "name": "Debug Response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 100,
        "wires": []
    },
    {
        "id": "d1d2271d.b6b638",
        "type": "http in",
        "z": "1c5bd0c7e1fa24d6",
        "name": "Receive Data",
        "url": "/api/update",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 200,
        "y": 240,
        "wires": [
            [
                "ea8c87a7.82b468"
            ]
        ]
    },
    {
        "id": "ea8c87a7.82b468",
        "type": "function",
        "z": "1c5bd0c7e1fa24d6",
        "name": "Process Data",
        "func": "msg.payload = msg.payload.value; // Process payload\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 240,
        "wires": [
            [
                "f3f2c8c7.b12368"
            ]
        ]
    },
    {
        "id": "f3f2c8c7.b12368",
        "type": "http response",
        "z": "1c5bd0c7e1fa24d6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 550,
        "y": 240,
        "wires": []
    },
    {
        "id": "40fb89efbbf83114",
        "type": "http request",
        "z": "6f944c5b8336c4f5",
        "name": "Fetch Telemetry",
        "method": "GET",
        "ret": "json",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/bPpBh0RQfNsbVt4yv1q7/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 140,
        "y": 100,
        "wires": [
            [
                "f880f4d337edd4fd"
            ]
        ]
    },
    {
        "id": "f880f4d337edd4fd",
        "type": "function",
        "z": "6f944c5b8336c4f5",
        "name": "Format for OPC UA",
        "func": "msg.topic = \"ns=3;i=1008;datatype=Double\"; // OPC UA node\nmsg.payload = msg.payload.value; // Adjust if needed\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 100,
        "wires": [
            [
                "48a17dec5b77dd1c"
            ]
        ]
    },
    {
        "id": "48a17dec5b77dd1c",
        "type": "OpcUa-Client",
        "z": "6f944c5b8336c4f5",
        "d": true,
        "endpoint": "136aee05e15fcb27",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "Write to OPC UA",
        "x": 600,
        "y": 100,
        "wires": [
            [
                "c09299f581a0f6cb"
            ],
            []
        ]
    },
    {
        "id": "c09299f581a0f6cb",
        "type": "debug",
        "z": "6f944c5b8336c4f5",
        "name": "Debug Response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 100,
        "wires": []
    },
    {
        "id": "5eb4b28ad0f0a0be",
        "type": "http in",
        "z": "6f944c5b8336c4f5",
        "name": "Receive Data",
        "url": "/api/update",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 200,
        "y": 240,
        "wires": [
            [
                "148ee673fae2f4db"
            ]
        ]
    },
    {
        "id": "148ee673fae2f4db",
        "type": "function",
        "z": "6f944c5b8336c4f5",
        "name": "Process Data",
        "func": "msg.payload = msg.payload.value; // Adjust this if the structure is different\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 240,
        "wires": [
            [
                "72fa42ec22da6918"
            ]
        ]
    },
    {
        "id": "72fa42ec22da6918",
        "type": "http response",
        "z": "6f944c5b8336c4f5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 550,
        "y": 240,
        "wires": []
    },
    {
        "id": "72f89721d19b46a5",
        "type": "inject",
        "z": "c997749fbf913c8c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 200,
        "wires": [
            [
                "e791ebd64e828478"
            ]
        ]
    },
    {
        "id": "e791ebd64e828478",
        "type": "function",
        "z": "c997749fbf913c8c",
        "name": "function 11",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 200,
        "wires": [
            [
                "817762487f17fa46"
            ],
            [
                "817762487f17fa46"
            ],
            [
                "817762487f17fa46"
            ],
            [
                "817762487f17fa46"
            ],
            [
                "817762487f17fa46"
            ],
            [
                "817762487f17fa46"
            ]
        ]
    },
    {
        "id": "9c887b0efee38180",
        "type": "function",
        "z": "c997749fbf913c8c",
        "name": "function 12",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 200,
        "wires": [
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ],
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ],
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ],
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ],
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ],
            [
                "80ba0e70e77dccd3",
                "c9608192fe656297"
            ]
        ]
    },
    {
        "id": "817762487f17fa46",
        "type": "OpcUa-Client",
        "z": "c997749fbf913c8c",
        "endpoint": "3a53d44ee96ccbc0",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 600,
        "y": 200,
        "wires": [
            [
                "9c887b0efee38180",
                "6d1137347a68a314"
            ],
            []
        ]
    },
    {
        "id": "40961fc11044be53",
        "type": "ui_template",
        "z": "c997749fbf913c8c",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 200,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "80ba0e70e77dccd3",
        "type": "ui_template",
        "z": "c997749fbf913c8c",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<div class=\"sidebar\">\n    <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules')\"><b>Home</b></button>\n    <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit1\" class=\"module-button\" onclick=\"toggleSubmodules('unit1Submodules')\"><b>Unit 1</b></button>\n    <div id=\"unit1Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"unit2\" class=\"module-button\" onclick=\"toggleSubmodules('unit2Submodules')\"><b>Unit 2</b></button>\n    <div id=\"unit2Submodules\" class=\"submodule-container\"></div>\n\n    <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules')\"><b>Alarms</b></button>\n    <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules')\"><b>Settings</b></button>\n    <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n    <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules')\"><b>Reports</b></button>\n    <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n</div>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar Example</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 90px;\n            width: 99.6%;\n            background-color: #004170;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 1.8px;\n        }\n\n        .left-section {\n            display: flex;\n            align-items: center;\n        }\n\n        .company-logo {\n            height: 60px;\n            width: 60px;\n            background: white;\n            margin-left: 28px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            font-size: 27px;\n            font-weight: bold;\n            padding-left: 40px;\n        }\n\n        .right-section {\n            font-size: 17px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\">TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"position: fixed; transform: scale(0.9); left:100px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<!-- <div id=\"chartdiv\">\n    <style>\n        .chart {\n            position: absolute;\n            background-color: orange;\n            border: 5px solid red;\n            top:100px;\n            left:200px;\n            height: 100%;\n            width: 100%;\n        }\n    </style>\n</div> -->\n\n<style>\n    body {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html,\n    body {\n        height: 100%;\n        /* Ensure the body takes up the full viewport height */\n    }\n\n    .sidebar {\n        position: absolute;\n        width: 150px;\n        height: 100%;\n        top: 89.5px;\n        left: -2px;\n        background-color: #004170;\n        padding-top: 20px;\n        /* padding-bottom: 10px; */\n        border: 2px solid black;\n    }\n\n    .module-button {\n        width: 100%;\n        background-color: #004170;\n        color: white;\n        padding: 10px;\n        text-align: left;\n        border-left: 4.5px solid black;\n        border-bottom: 2px solid black;\n        outline: none;\n        cursor: pointer;\n        font-size: 15px;\n        transition: 0.3s;\n        margin-bottom: 10px;\n        box-sizing: border-box;\n        /* Ensures padding is included in total width */\n    }\n\n    .module-button:last-of-type {\n        margin-bottom: 0;\n    }\n\n    .module-button:hover {\n        background-color: #004170;\n    }\n\n    .submodule-container {\n        display: none;\n        padding-left: 10px;\n    }\n\n    .submodule-button {\n        background-color: white;\n        border: 2px solid #ddd;\n        color: black;\n        padding: 5px;\n        text-align: center;\n        font-size: 14px;\n        cursor: pointer;\n        border-radius: 6px;\n        width: 130px;\n        margin-top: 10px;\n    }\n\n    .submodule-button:last-of-type {\n        margin-bottom: 10px;\n    }\n\n    .submodule-button:hover {\n        background-color: #ddd;\n    }\n</style>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                case 'homeSubmodules':\n                    submodules = ['Dashboard'];\n                    break;\n                case 'unit1Submodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding'];\n                    break;\n                case 'unit2Submodules':\n                    submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 600,
        "y": 360,
        "wires": [
            [
                "ff705f8bf65e9d29",
                "1317a211371a614b",
                "6d1137347a68a314"
            ]
        ]
    },
    {
        "id": "2201f12d35a93883",
        "type": "ui_numeric",
        "z": "c997749fbf913c8c",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "80ba0e70e77dccd3"
            ]
        ]
    },
    {
        "id": "ff705f8bf65e9d29",
        "type": "debug",
        "z": "c997749fbf913c8c",
        "name": "debug 9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 440,
        "wires": []
    },
    {
        "id": "c9608192fe656297",
        "type": "http request",
        "z": "c997749fbf913c8c",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/6cj8YKYBj5ERw8TZy8wt/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1010,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1317a211371a614b",
        "type": "OpcUa-Client",
        "z": "c997749fbf913c8c",
        "endpoint": "deb070e0bbd83f21",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 840,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "6d1137347a68a314",
        "type": "ui_chart",
        "z": "c997749fbf913c8c",
        "name": "",
        "group": "",
        "order": 1,
        "width": "24",
        "height": "9",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "5",
        "removeOlder": "1",
        "removeOlderPoints": "10",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "chart",
        "x": 730,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "70d74fe56b539c3f",
        "type": "inject",
        "z": "f52b587109bf441f",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "c6b356069f8dece6"
            ]
        ]
    },
    {
        "id": "http-in-node",
        "type": "http in",
        "z": "f52b587109bf441f",
        "name": "",
        "url": "/write-data",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 220,
        "y": 360,
        "wires": [
            [
                "function-node"
            ]
        ]
    },
    {
        "id": "function-node",
        "type": "function",
        "z": "f52b587109bf441f",
        "name": "Format Payload",
        "func": "msg.payload = { value: msg.payload.value }; return msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 360,
        "wires": [
            [
                "opcua-client-node"
            ]
        ]
    },
    {
        "id": "opcua-client-node",
        "type": "OpcUa-Client",
        "z": "f52b587109bf441f",
        "endpoint": "deb070e0bbd83f21",
        "action": "read",
        "deadbandvalue": "",
        "time": "",
        "localfile": "",
        "localkeyfile": "",
        "useTransport": false,
        "maxChunkCount": "",
        "maxMessageSize": "",
        "receiveBufferSize": "",
        "sendBufferSize": "",
        "name": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "debug-node"
            ],
            []
        ]
    },
    {
        "id": "debug-node",
        "type": "debug",
        "z": "f52b587109bf441f",
        "name": "Debug Output",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "c6b356069f8dece6",
        "type": "function",
        "z": "f52b587109bf441f",
        "name": "function 18",
        "func": "msg.topic = \"ns=3;i=1008\"; // Replace with the correct NodeId\nmsg.payload = {\n    value: msg.payload // Assume the payload contains the value to write\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 280,
        "wires": [
            [
                "opcua-client-node"
            ]
        ]
    },
    {
        "id": "132684d3b302cb47",
        "type": "inject",
        "z": "682b339eeec282a4",
        "name": "Trigger Data",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 240,
        "wires": [
            [
                "66713143ef8b927c"
            ]
        ]
    },
    {
        "id": "de475ce1dccef031",
        "type": "http in",
        "z": "682b339eeec282a4",
        "name": "HTTP Endpoint",
        "url": "/api/update",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 160,
        "y": 380,
        "wires": [
            [
                "09b27c8f5d601f67"
            ]
        ]
    },
    {
        "id": "09b27c8f5d601f67",
        "type": "function",
        "z": "682b339eeec282a4",
        "name": "Format Payload",
        "func": "msg.payload = { value: msg.payload.value }; return msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 360,
        "wires": [
            [
                "715f72f70d8a20f3"
            ]
        ]
    },
    {
        "id": "715f72f70d8a20f3",
        "type": "OpcUa-Client",
        "z": "682b339eeec282a4",
        "endpoint": "1ca5ab78392d81aa",
        "action": "write",
        "deadbandvalue": "",
        "time": "",
        "localfile": "",
        "localkeyfile": "",
        "useTransport": false,
        "maxChunkCount": "",
        "maxMessageSize": "",
        "receiveBufferSize": "",
        "sendBufferSize": "",
        "name": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "f47cc8ff2660c0d8"
            ],
            []
        ]
    },
    {
        "id": "f47cc8ff2660c0d8",
        "type": "debug",
        "z": "682b339eeec282a4",
        "name": "Debug Output",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "66713143ef8b927c",
        "type": "function",
        "z": "682b339eeec282a4",
        "name": "Set NodeId and Format",
        "func": "msg.topic = \"ns=3;i=1008\"; // Replace with the correct NodeId\nmsg.payload = { value: msg.payload.value }; // Adjust payload\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 280,
        "wires": [
            [
                "715f72f70d8a20f3"
            ]
        ]
    },
    {
        "id": "6ad287be84aa2ecf",
        "type": "http in",
        "z": "c97e490c855e7e94",
        "name": "HTTP Endpoint",
        "url": "/api/update",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 160,
        "y": 380,
        "wires": [
            [
                "4a4bd155dc021086"
            ]
        ]
    },
    {
        "id": "4a4bd155dc021086",
        "type": "function",
        "z": "c97e490c855e7e94",
        "name": "Format Payload",
        "func": "msg.topic = \"ns=3;i=1008\"; // Replace with the correct NodeId\nmsg.payload = { value: msg.payload.value }; // Adjust payload\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 360,
        "wires": [
            [
                "e427356fe866f23f"
            ]
        ]
    },
    {
        "id": "e427356fe866f23f",
        "type": "OpcUa-Client",
        "z": "c97e490c855e7e94",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandvalue": "",
        "time": "",
        "localfile": "",
        "localkeyfile": "",
        "useTransport": false,
        "maxChunkCount": "",
        "maxMessageSize": "",
        "receiveBufferSize": "",
        "sendBufferSize": "",
        "name": "",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "533f5d8f274816bf"
            ],
            []
        ]
    },
    {
        "id": "533f5d8f274816bf",
        "type": "debug",
        "z": "c97e490c855e7e94",
        "name": "Debug Output",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "540d17420f0c1c75",
        "type": "inject",
        "z": "66624a70ec3afa12",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 260,
        "wires": [
            [
                "77b634302a10477a"
            ]
        ]
    },
    {
        "id": "77b634302a10477a",
        "type": "function",
        "z": "66624a70ec3afa12",
        "name": "function 19",
        "func": "msg.topic = \"ns=3;i=1002;datatype=Int32\";\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 409.7098388671875,
        "y": 260.7053680419922,
        "wires": [
            [
                "1c3d5f1584c9422d"
            ]
        ]
    },
    {
        "id": "1c3d5f1584c9422d",
        "type": "OpcUa-Client",
        "z": "66624a70ec3afa12",
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 599.7098388671875,
        "y": 260.7053680419922,
        "wires": [
            [
                "5848a30f79754175"
            ],
            []
        ]
    },
    {
        "id": "5848a30f79754175",
        "type": "function",
        "z": "66624a70ec3afa12",
        "name": "function 20",
        "func": "var payload = {\n    \"Counter\": msg.payload // Ensure the value is mapped correctly\n};\n\n// Prepare the message to be sent to ThingsBoard\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 260,
        "wires": [
            [
                "3dd739a69c513d3f",
                "3cbfafeb2e0d93f0"
            ]
        ]
    },
    {
        "id": "3dd739a69c513d3f",
        "type": "http request",
        "z": "66624a70ec3afa12",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://thingsboard.cloud/api/v1/La8BtWwGzZDt3nxBjeIy/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 969.7098388671875,
        "y": 260.7053680419922,
        "wires": [
            []
        ]
    },
    {
        "id": "3cbfafeb2e0d93f0",
        "type": "debug",
        "z": "66624a70ec3afa12",
        "name": "debug 13",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 839.7098388671875,
        "y": 380.7053680419922,
        "wires": []
    },
    {
        "id": "2f358242a64ccf68",
        "type": "inject",
        "z": "a0d290bfe6a0c950",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 300,
        "wires": [
            [
                "e9b025db5aa047f5"
            ]
        ]
    },
    {
        "id": "e9b025db5aa047f5",
        "type": "function",
        "z": "a0d290bfe6a0c950",
        "name": "function 21",
        "func": "msg.topic = \"ns=3;i=1008;datatype=Double\";\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 309.7098388671875,
        "y": 300.7053680419922,
        "wires": [
            [
                "7ed1078f18984843"
            ]
        ]
    },
    {
        "id": "7ed1078f18984843",
        "type": "OpcUa-Client",
        "z": "a0d290bfe6a0c950",
        "endpoint": "b7ac45d673c0803c",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 499.7098388671875,
        "y": 300.7053680419922,
        "wires": [
            [
                "777eb0a8379370ac"
            ],
            []
        ]
    },
    {
        "id": "777eb0a8379370ac",
        "type": "function",
        "z": "a0d290bfe6a0c950",
        "name": "function 22",
        "func": "var payload = {\n    \"VAR-1\": msg.payload // Ensure the value is mapped correctly\n};\n\n// Prepare the message to be sent to ThingsBoard\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 300,
        "wires": [
            [
                "9b223ff0c604b7d7",
                "7cd76dbc3d82f138"
            ]
        ]
    },
    {
        "id": "9b223ff0c604b7d7",
        "type": "http request",
        "z": "a0d290bfe6a0c950",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/api/v1/on2EaIWL2ZmpxvpRYIr2/telemetry",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 869.7098388671875,
        "y": 300.7053680419922,
        "wires": [
            []
        ]
    },
    {
        "id": "7cd76dbc3d82f138",
        "type": "debug",
        "z": "a0d290bfe6a0c950",
        "name": "debug 14",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 739.7098388671875,
        "y": 420.7053680419922,
        "wires": []
    },
    {
        "id": "bcd2d8af09b6534c",
        "type": "http in",
        "z": "fcbe0b3c88301cce",
        "name": "",
        "url": "/write",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "c318474f9ee0d747"
            ]
        ]
    },
    {
        "id": "c318474f9ee0d747",
        "type": "function",
        "z": "fcbe0b3c88301cce",
        "name": "function 23",
        "func": "var nodeId = \"ns=3;i=1008;datatype=Double\"; // Example Node ID, update as necessary\nvar valueToWrite = msg.payload.value; // Get the value from payload\n\nmsg.payload = {\n    value: valueToWrite\n};\n\nmsg.topic = nodeId; // Set the Node ID in msg.topic\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 300,
        "wires": [
            [
                "890da8435ffaa09c",
                "61acbc593e5206a8"
            ]
        ]
    },
    {
        "id": "890da8435ffaa09c",
        "type": "OpcUa-Client",
        "z": "fcbe0b3c88301cce",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 600,
        "y": 300,
        "wires": [
            [
                "7725a9615073dd4c",
                "63bae354591d95d2"
            ],
            []
        ]
    },
    {
        "id": "7725a9615073dd4c",
        "type": "http response",
        "z": "fcbe0b3c88301cce",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 300,
        "wires": []
    },
    {
        "id": "63bae354591d95d2",
        "type": "debug",
        "z": "fcbe0b3c88301cce",
        "name": "debug 15",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 460,
        "wires": []
    },
    {
        "id": "61acbc593e5206a8",
        "type": "debug",
        "z": "fcbe0b3c88301cce",
        "name": "debug 16",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 460,
        "wires": []
    },
    {
        "id": "e0748cb292908e29",
        "type": "inject",
        "z": "abb1808b49441a5c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 370,
        "y": 200,
        "wires": [
            [
                "5c0d32e59fdef2b7"
            ]
        ]
    },
    {
        "id": "5c0d32e59fdef2b7",
        "type": "function",
        "z": "abb1808b49441a5c",
        "name": "function 24",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 200,
        "wires": [
            [
                "080dac03153686e0"
            ],
            [
                "080dac03153686e0"
            ],
            [
                "080dac03153686e0"
            ],
            [
                "080dac03153686e0"
            ],
            [
                "080dac03153686e0"
            ],
            [
                "080dac03153686e0"
            ]
        ]
    },
    {
        "id": "314e253c5951c19f",
        "type": "function",
        "z": "abb1808b49441a5c",
        "name": "function 25",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 200,
        "wires": [
            [
                "0d930990d0048db5"
            ],
            [
                "0d930990d0048db5"
            ],
            [
                "0d930990d0048db5"
            ],
            [
                "0d930990d0048db5"
            ],
            [
                "0d930990d0048db5"
            ],
            [
                "0d930990d0048db5"
            ]
        ]
    },
    {
        "id": "080dac03153686e0",
        "type": "OpcUa-Client",
        "z": "abb1808b49441a5c",
        "endpoint": "3a53d44ee96ccbc0",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 760,
        "y": 200,
        "wires": [
            [
                "314e253c5951c19f"
            ],
            []
        ]
    },
    {
        "id": "655e9787afa5e407",
        "type": "ui_template",
        "z": "abb1808b49441a5c",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 360,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "0d930990d0048db5",
        "type": "ui_template",
        "z": "abb1808b49441a5c",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <!-- <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"> -->\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #026456;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #026456;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid #015448;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #348377;\n        }\n\n        /* .dropdown-icon {\n            margin-left: auto;\n            font-size: 12px;\n            transition: transform 0.3s ease;\n            \n        } */\n\n        /* .module-button.active .dropdown-icon {\n            transform: rotate(180deg);\n        } */\n\n        .submodule-container {\n            display: none;\n            /* padding-left: 10px; */\n            /* margin-top: 10px; */\n            background-color: #026456;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #026456;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            /* border-radius: 5px; */\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #348377;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-triangle-exclamation {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n\n        .fa-gear {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n\n        .fa-file {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <!-- <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Unit 2\n            <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span>\n        </button> -->\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            // Hide other submodule containers and reset buttons\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            // Toggle current submodule container\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            // Load submodules dynamically if not already loaded\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n                    // case 'homeSubmodules':\n                    //     submodules = ['Dashboard'];\n                    //     break;\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    // case 'departmentsSubmodules':\n                    //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    //     break;\n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #026456;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            /* align-items: center; */\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            /* align-items: center; */\n            border-right: 0.5px solid #015448;\n            border-bottom: 0.5px solid #015448;\n            padding-right: 18px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid #015448;\n        }\n\n        .company-logo {\n            margin-top: 13px;\n            height: 35px;\n            width: 35px;\n            background: white;\n            margin-left: 0px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            padding-top: 11px;\n            font-size: 20px;\n            /* font-weight: bold; */\n            padding-left: 13px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 15px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\"><b>TSE</b></span>\n            <span class=\"company-platform\">IoT Platform</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                // case 'homeSubmodules':\n                //     submodules = ['Dashboard'];\n                //     break;\n                case 'departmentsSubmodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                // case 'departmentsSubmodules':\n                //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                //     break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "1d56a6769272b8ae",
                "bad9c803f929177f"
            ]
        ]
    },
    {
        "id": "b8811c7abe6c3e6e",
        "type": "ui_numeric",
        "z": "abb1808b49441a5c",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 550,
        "y": 360,
        "wires": [
            [
                "0d930990d0048db5"
            ]
        ]
    },
    {
        "id": "1d56a6769272b8ae",
        "type": "debug",
        "z": "abb1808b49441a5c",
        "name": "debug 17",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 440,
        "wires": []
    },
    {
        "id": "bad9c803f929177f",
        "type": "OpcUa-Client",
        "z": "abb1808b49441a5c",
        "endpoint": "deb070e0bbd83f21",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 1000,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2e298930ecd5ed4f",
        "type": "inject",
        "z": "5ab6f3239926e7d4",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "6bd2d19e6edded19"
            ]
        ]
    },
    {
        "id": "6bd2d19e6edded19",
        "type": "function",
        "z": "5ab6f3239926e7d4",
        "name": "function 26",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 200,
        "wires": [
            [
                "581399b90d02f1c2"
            ],
            [
                "581399b90d02f1c2"
            ],
            [
                "581399b90d02f1c2"
            ],
            [
                "581399b90d02f1c2"
            ],
            [
                "581399b90d02f1c2"
            ],
            [
                "581399b90d02f1c2"
            ]
        ]
    },
    {
        "id": "fe86b684af0f1c87",
        "type": "function",
        "z": "5ab6f3239926e7d4",
        "name": "function 27",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 200,
        "wires": [
            [
                "f7350a21bbc8590e"
            ],
            [
                "f7350a21bbc8590e"
            ],
            [
                "f7350a21bbc8590e"
            ],
            [
                "f7350a21bbc8590e"
            ],
            [
                "f7350a21bbc8590e"
            ],
            [
                "f7350a21bbc8590e"
            ]
        ]
    },
    {
        "id": "581399b90d02f1c2",
        "type": "OpcUa-Client",
        "z": "5ab6f3239926e7d4",
        "endpoint": "3a53d44ee96ccbc0",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 200,
        "wires": [
            [
                "fe86b684af0f1c87",
                "63f6b733f77e34db"
            ],
            []
        ]
    },
    {
        "id": "f7350a21bbc8590e",
        "type": "debug",
        "z": "5ab6f3239926e7d4",
        "name": "debug 18",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 440,
        "wires": []
    },
    {
        "id": "63f6b733f77e34db",
        "type": "ui_chart",
        "z": "5ab6f3239926e7d4",
        "name": "",
        "group": "9cbe2d4f.e4c55",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "-10",
        "ymax": "25",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "5b33d762b26e09e4",
        "type": "inject",
        "z": "c94202e593d4efd3",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "d47b4ef9be4504c1"
            ]
        ]
    },
    {
        "id": "d47b4ef9be4504c1",
        "type": "function",
        "z": "c94202e593d4efd3",
        "name": "function 28",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 200,
        "wires": [
            [
                "0c13ebfd134549a1"
            ],
            [
                "0c13ebfd134549a1"
            ],
            [
                "0c13ebfd134549a1"
            ],
            [
                "0c13ebfd134549a1"
            ],
            [
                "0c13ebfd134549a1"
            ],
            [
                "0c13ebfd134549a1"
            ]
        ]
    },
    {
        "id": "085a1524c1ab4d1e",
        "type": "function",
        "z": "c94202e593d4efd3",
        "name": "function 29",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 200,
        "wires": [
            [
                "3287b8b7b0a0ec8d"
            ],
            [
                "3287b8b7b0a0ec8d"
            ],
            [
                "3287b8b7b0a0ec8d"
            ],
            [
                "3287b8b7b0a0ec8d"
            ],
            [
                "3287b8b7b0a0ec8d"
            ],
            [
                "3287b8b7b0a0ec8d"
            ]
        ]
    },
    {
        "id": "0c13ebfd134549a1",
        "type": "OpcUa-Client",
        "z": "c94202e593d4efd3",
        "endpoint": "3a53d44ee96ccbc0",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 540,
        "y": 200,
        "wires": [
            [
                "085a1524c1ab4d1e"
            ],
            []
        ]
    },
    {
        "id": "f0c17d5c9d1193b3",
        "type": "ui_template",
        "z": "c94202e593d4efd3",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "3287b8b7b0a0ec8d",
        "type": "ui_template",
        "z": "c94202e593d4efd3",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <!-- <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"> -->\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #026456;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #026456;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid #015448;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #348377;\n        }\n\n        /* .dropdown-icon {\n            margin-left: auto;\n            font-size: 12px;\n            transition: transform 0.3s ease;\n            \n        } */\n\n        /* .module-button.active .dropdown-icon {\n            transform: rotate(180deg);\n        } */\n\n        .submodule-container {\n            display: none;\n            /* padding-left: 10px; */\n            /* margin-top: 10px; */\n            background-color: #026456;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #026456;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            /* border-radius: 5px; */\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #348377;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-triangle-exclamation {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n\n        .fa-gear {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n\n        .fa-file {\n        font-size: 11px;\n        padding-right: 7px;\n        /* margin-top: -2px; */\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <!-- <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Unit 2\n            <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span>\n        </button> -->\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            // Hide other submodule containers and reset buttons\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            // Toggle current submodule container\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            // Load submodules dynamically if not already loaded\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n                    // case 'homeSubmodules':\n                    //     submodules = ['Dashboard'];\n                    //     break;\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    // case 'departmentsSubmodules':\n                    //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    //     break;\n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #026456;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            /* align-items: center; */\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            /* align-items: center; */\n            border-right: 0.5px solid #015448;\n            border-bottom: 0.5px solid #015448;\n            padding-right: 18px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid #015448;\n        }\n\n        .company-logo {\n            margin-top: 13px;\n            height: 35px;\n            width: 35px;\n            background: white;\n            margin-left: 0px;\n            border-radius: 50px;\n        }\n\n        .company-name {\n            padding-top: 11px;\n            font-size: 20px;\n            /* font-weight: bold; */\n            padding-left: 13px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 15px;\n            padding: 20px;\n            text: bold;\n\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n            <span class=\"company-name\"><b>TSE</b></span>\n            <span class=\"company-platform\">IoT Platform</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"date-time\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const dateTimeElement = document.getElementById('date-time');\n            const now = new Date();\n            const options = { \n                weekday: 'long', \n                year: 'numeric', \n                month: 'long', \n                day: 'numeric', \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit' \n            };\n            dateTimeElement.textContent = now.toLocaleDateString('en-US', options);\n        }\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n</html>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:70px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:222px; top:269px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\">\n    <img src=\"http://localhost:1880/rdf0.jpg\" style=\"position:absolute; left:260px; top:250px; width:100px; height:50px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\">\n    <img src=\"http://localhost:1880/sf0.png\" style=\"position:absolute; left:350px; top:375px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/cyclone0.png\" style=\"position:absolute; left:435px; top:383px; width:80px; height:120px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:405px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fansline0.png\" style=\"position:absolute; left:460px; top:193px; width:120px; height:160px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\">\n    <img src=\"http://localhost:1880/box0.png\" style=\"position:absolute; left:910px; top:230px; width:200px; height:100px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/fan0.png\" style=\"position:absolute; left:1183px; top:330px; width:50px; height:50px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\">\n\n    <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\">\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\">\n    <img src=\"http://localhost:1880/final.png\"style=\"position:absolute; left:860px; top:265px\">\n    <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1>\n</div>\n\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                // case 'homeSubmodules':\n                //     submodules = ['Dashboard'];\n                //     break;\n                case 'departmentsSubmodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                // case 'departmentsSubmodules':\n                //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                //     break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 540,
        "y": 360,
        "wires": [
            [
                "62ea76c135258a25",
                "997d22e3e3942ef4"
            ]
        ]
    },
    {
        "id": "446d8415201a0ad0",
        "type": "ui_numeric",
        "z": "c94202e593d4efd3",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 330,
        "y": 360,
        "wires": [
            [
                "3287b8b7b0a0ec8d"
            ]
        ]
    },
    {
        "id": "62ea76c135258a25",
        "type": "debug",
        "z": "c94202e593d4efd3",
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 440,
        "wires": []
    },
    {
        "id": "997d22e3e3942ef4",
        "type": "OpcUa-Client",
        "z": "c94202e593d4efd3",
        "endpoint": "deb070e0bbd83f21",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 780,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "6d5aa633.127c58",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Cek Current Data, Kalau datanya sudah lebih dari 90 Maka Simpan Sebagai Alarm",
        "info": "",
        "x": 330,
        "y": 1560,
        "wires": []
    },
    {
        "id": "55f39ece.5bb14",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/3') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/3') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmState', payload: false}\n} else if (context.temp < 90 && context.smoke === 0) {\n  return {topic: 'alarmState', payload: true}\n} else {\n  return null\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 1620,
        "wires": [
            [
                "6aec0e84.8b70d"
            ]
        ]
    },
    {
        "id": "d8cb9be4.75e198",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/3') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/3') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmValue', payload: context.temp}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 1720,
        "wires": [
            [
                "e0eb6f7b.71c07",
                "e268cd9d.2f982"
            ]
        ]
    },
    {
        "id": "28db8be5.cc21e4",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DIN - 00",
        "topic": "simulator/sensor/din/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 100,
        "wires": [
            [
                "4896332b.7954bc"
            ]
        ]
    },
    {
        "id": "e46888b6.b09b38",
        "type": "ui_switch",
        "z": "74d8f714.ab8378",
        "name": "Digital Input 0",
        "label": "Digital Input 00",
        "tooltip": "",
        "group": "d133e3eb.7d07",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 780,
        "y": 100,
        "wires": [
            [
                "88cf764e.b946c8"
            ]
        ]
    },
    {
        "id": "4896332b.7954bc",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 100,
        "wires": [
            [
                "471d4aee.2a39a4"
            ]
        ]
    },
    {
        "id": "471d4aee.2a39a4",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 100,
        "wires": [
            [
                "b581f3cc.4df24"
            ]
        ]
    },
    {
        "id": "b581f3cc.4df24",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 100,
        "wires": [
            [
                "e46888b6.b09b38"
            ]
        ]
    },
    {
        "id": "f3d848b5.e9f488",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 180,
        "wires": [
            [
                "b479b85c.707a78"
            ]
        ]
    },
    {
        "id": "69b3c7db.4e3598",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 180,
        "wires": [
            [
                "f3d848b5.e9f488"
            ]
        ]
    },
    {
        "id": "b479b85c.707a78",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 180,
        "wires": [
            [
                "aa9b52cf.ef538"
            ]
        ]
    },
    {
        "id": "792e7b4a.4fa584",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DIN - 01",
        "topic": "simulator/sensor/din/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 180,
        "wires": [
            [
                "69b3c7db.4e3598"
            ]
        ]
    },
    {
        "id": "aa9b52cf.ef538",
        "type": "ui_switch",
        "z": "74d8f714.ab8378",
        "name": "Digital Input 1",
        "label": "Digital Input 01",
        "tooltip": "",
        "group": "d133e3eb.7d07",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 780,
        "y": 180,
        "wires": [
            [
                "111e6185.0d736e"
            ]
        ]
    },
    {
        "id": "1e73f6f6.656879",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 260,
        "wires": [
            [
                "7caa036f.d8d44c"
            ]
        ]
    },
    {
        "id": "d5732f03.13d5a",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DIN - 02",
        "topic": "simulator/sensor/din/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 260,
        "wires": [
            [
                "1e73f6f6.656879"
            ]
        ]
    },
    {
        "id": "7caa036f.d8d44c",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 260,
        "wires": [
            [
                "b482843b.0376b8"
            ]
        ]
    },
    {
        "id": "b482843b.0376b8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 260,
        "wires": [
            [
                "6f786b4f.3197d4"
            ]
        ]
    },
    {
        "id": "6f786b4f.3197d4",
        "type": "ui_switch",
        "z": "74d8f714.ab8378",
        "name": "Digital Input 2",
        "label": "Digital Input 02",
        "tooltip": "",
        "group": "d133e3eb.7d07",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 780,
        "y": 260,
        "wires": [
            [
                "cfe9c358.925d8"
            ]
        ]
    },
    {
        "id": "fee1c14f.ba23d",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 340,
        "wires": [
            [
                "23113290.5230fe"
            ]
        ]
    },
    {
        "id": "23113290.5230fe",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 340,
        "wires": [
            [
                "b2463839.d74ca8"
            ]
        ]
    },
    {
        "id": "8d9394a1.387f88",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DIN - 03",
        "topic": "simulator/sensor/din/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 340,
        "wires": [
            [
                "fee1c14f.ba23d"
            ]
        ]
    },
    {
        "id": "b2463839.d74ca8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 340,
        "wires": [
            [
                "8169e37d.f7366"
            ]
        ]
    },
    {
        "id": "8169e37d.f7366",
        "type": "ui_switch",
        "z": "74d8f714.ab8378",
        "name": "Digital Input 3",
        "label": "Digital Input 03",
        "tooltip": "",
        "group": "d133e3eb.7d07",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 780,
        "y": 340,
        "wires": [
            [
                "9853baf.dc67348"
            ]
        ]
    },
    {
        "id": "161e6b7e.9d0b95",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 500,
        "wires": [
            [
                "6c1497f9.020918"
            ]
        ]
    },
    {
        "id": "863dba6d.d38bb8",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 00",
        "topic": "simulator/sensor/dout/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 500,
        "wires": [
            [
                "161e6b7e.9d0b95"
            ]
        ]
    },
    {
        "id": "6c1497f9.020918",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 500,
        "wires": [
            [
                "b8a986a5.4912e8"
            ]
        ]
    },
    {
        "id": "b8a986a5.4912e8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 500,
        "wires": [
            [
                "849ea569.5baf08"
            ]
        ]
    },
    {
        "id": "c6958c53.1c404",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 580,
        "wires": [
            [
                "5c824e5a.0a763"
            ]
        ]
    },
    {
        "id": "5c824e5a.0a763",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 580,
        "wires": [
            [
                "b9702f52.b908f"
            ]
        ]
    },
    {
        "id": "4ccb55ae.6cea1c",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 01",
        "topic": "simulator/sensor/dout/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 580,
        "wires": [
            [
                "c6958c53.1c404"
            ]
        ]
    },
    {
        "id": "b9702f52.b908f",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 580,
        "wires": [
            [
                "6fe5487.54ca2b8"
            ]
        ]
    },
    {
        "id": "fb50a30d.fda22",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 640,
        "wires": [
            [
                "471cd407.0cebec"
            ]
        ]
    },
    {
        "id": "471cd407.0cebec",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 640,
        "wires": [
            [
                "3c49342e.ada05c"
            ]
        ]
    },
    {
        "id": "6da101a4.6cb03",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 02",
        "topic": "simulator/sensor/dout/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 640,
        "wires": [
            [
                "fb50a30d.fda22"
            ]
        ]
    },
    {
        "id": "3c49342e.ada05c",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 640,
        "wires": [
            [
                "4e7f94a6.52cb4c"
            ]
        ]
    },
    {
        "id": "26b46bb0.a0b4f4",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 720,
        "wires": [
            [
                "cd1fd887.43e5f8"
            ]
        ]
    },
    {
        "id": "cd1fd887.43e5f8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 720,
        "wires": [
            [
                "8cd2ab4d.d9eb08"
            ]
        ]
    },
    {
        "id": "e77e3819.c47f68",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 03",
        "topic": "simulator/sensor/dout/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 720,
        "wires": [
            [
                "26b46bb0.a0b4f4"
            ]
        ]
    },
    {
        "id": "8cd2ab4d.d9eb08",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 720,
        "wires": [
            [
                "99829c0c.c10d7"
            ]
        ]
    },
    {
        "id": "5b73a3a5.53d6ac",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 00",
        "topic": "simulator/sensor/ain/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 880,
        "wires": [
            [
                "ec36368.4a0bec8"
            ]
        ]
    },
    {
        "id": "ec36368.4a0bec8",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 880,
        "wires": [
            [
                "d03618f9.bd6018"
            ]
        ]
    },
    {
        "id": "19a8b1ad.42709e",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 940,
        "wires": [
            [
                "736831da.c0ab4"
            ]
        ]
    },
    {
        "id": "87dac6d4.f13128",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 01",
        "topic": "simulator/sensor/ain/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 940,
        "wires": [
            [
                "19a8b1ad.42709e"
            ]
        ]
    },
    {
        "id": "736831da.c0ab4",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 940,
        "wires": [
            [
                "ffd6d40b.992668"
            ]
        ]
    },
    {
        "id": "a143b72a.e1a688",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1000,
        "wires": [
            [
                "d0a142b8.30348"
            ]
        ]
    },
    {
        "id": "d0a142b8.30348",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1000,
        "wires": [
            [
                "91f410de.98d9a"
            ]
        ]
    },
    {
        "id": "eab6ef36.bd8dd",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 02",
        "topic": "simulator/sensor/ain/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1000,
        "wires": [
            [
                "a143b72a.e1a688"
            ]
        ]
    },
    {
        "id": "1ec598a4.c85017",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1060,
        "wires": [
            [
                "a8671d28.4643d"
            ]
        ]
    },
    {
        "id": "4953eefe.3d79a",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 03",
        "topic": "simulator/sensor/ain/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1060,
        "wires": [
            [
                "1ec598a4.c85017"
            ]
        ]
    },
    {
        "id": "a4bfb84e.508168",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1220,
        "wires": [
            [
                "3dcb142.e9084ec"
            ]
        ]
    },
    {
        "id": "490002a8.528cec",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AOUT - 00",
        "topic": "simulator/sensor/aout/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1220,
        "wires": [
            [
                "a4bfb84e.508168"
            ]
        ]
    },
    {
        "id": "7372181a.808968",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1280,
        "wires": [
            [
                "ff77c016.1823f"
            ]
        ]
    },
    {
        "id": "e49967d3.91afd8",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AOUT - 01",
        "topic": "simulator/sensor/aout/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1280,
        "wires": [
            [
                "7372181a.808968"
            ]
        ]
    },
    {
        "id": "783d6a81.4a3224",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1340,
        "wires": [
            [
                "55feb4c8.be22ec"
            ]
        ]
    },
    {
        "id": "a83d4ef5.d4ce3",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AOUT - 02",
        "topic": "simulator/sensor/aout/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1340,
        "wires": [
            [
                "783d6a81.4a3224"
            ]
        ]
    },
    {
        "id": "615ea463.53317c",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1400,
        "wires": [
            [
                "592c09e7.f124c8"
            ]
        ]
    },
    {
        "id": "54b2719.d07b79",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AOUT - 03",
        "topic": "simulator/sensor/aout/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1400,
        "wires": [
            [
                "615ea463.53317c"
            ]
        ]
    },
    {
        "id": "11199fb5.39faf",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Digital Input",
        "info": "",
        "x": 160,
        "y": 40,
        "wires": []
    },
    {
        "id": "154dac70.15e8d4",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Digital Output",
        "info": "",
        "x": 170,
        "y": 440,
        "wires": []
    },
    {
        "id": "bb8153fd.778f",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Analog Input",
        "info": "",
        "x": 170,
        "y": 820,
        "wires": []
    },
    {
        "id": "6269ee9d.148e5",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Analog Output",
        "info": "",
        "x": 170,
        "y": 1160,
        "wires": []
    },
    {
        "id": "841f5b18.848568",
        "type": "ui_numeric",
        "z": "74d8f714.ab8378",
        "name": "",
        "label": "Analog Input 00",
        "tooltip": "",
        "group": "674c609.8a5d7a",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 620,
        "y": 880,
        "wires": [
            [
                "74fe10da.4af34"
            ]
        ]
    },
    {
        "id": "ffd6d40b.992668",
        "type": "ui_numeric",
        "z": "74d8f714.ab8378",
        "name": "",
        "label": "Analog Input 01",
        "tooltip": "",
        "group": "674c609.8a5d7a",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 620,
        "y": 940,
        "wires": [
            [
                "af6032c.f3961d"
            ]
        ]
    },
    {
        "id": "91f410de.98d9a",
        "type": "ui_numeric",
        "z": "74d8f714.ab8378",
        "name": "",
        "label": "Analog Input 02",
        "tooltip": "",
        "group": "674c609.8a5d7a",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 620,
        "y": 1000,
        "wires": [
            [
                "77b06c31.e1c7a4"
            ]
        ]
    },
    {
        "id": "bbbc51ab.81884",
        "type": "ui_numeric",
        "z": "74d8f714.ab8378",
        "name": "",
        "label": "Analog Input 03",
        "tooltip": "",
        "group": "674c609.8a5d7a",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 620,
        "y": 1060,
        "wires": [
            [
                "ec2e8f22.e58e7"
            ]
        ]
    },
    {
        "id": "74fe10da.4af34",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydata1 = '{\"v\":'.concat(msg.payload);\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 900,
        "y": 880,
        "wires": [
            [
                "b5fa29ff.42f398"
            ]
        ]
    },
    {
        "id": "b5fa29ff.42f398",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Analog Input 0",
        "topic": "simulator/sensor/write/ain/0",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1220,
        "y": 880,
        "wires": []
    },
    {
        "id": "af6032c.f3961d",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydata1 = '{\"v\":'.concat(msg.payload);\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 900,
        "y": 940,
        "wires": [
            [
                "a7cb6479.03c9c8"
            ]
        ]
    },
    {
        "id": "77b06c31.e1c7a4",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydata1 = '{\"v\":'.concat(msg.payload);\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 900,
        "y": 1000,
        "wires": [
            [
                "52773515.f31b4c"
            ]
        ]
    },
    {
        "id": "ec2e8f22.e58e7",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydata1 = '{\"v\":'.concat(msg.payload);\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 900,
        "y": 1060,
        "wires": [
            [
                "74a056a4.aa35b8"
            ]
        ]
    },
    {
        "id": "a7cb6479.03c9c8",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Analog Input 1",
        "topic": "simulator/sensor/write/ain/1",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1220,
        "y": 940,
        "wires": []
    },
    {
        "id": "52773515.f31b4c",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Analog Input 2",
        "topic": "simulator/sensor/write/ain/2",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1220,
        "y": 1000,
        "wires": []
    },
    {
        "id": "74a056a4.aa35b8",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Analog Input 3",
        "topic": "simulator/sensor/write/ain/3",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1220,
        "y": 1060,
        "wires": []
    },
    {
        "id": "88cf764e.b946c8",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 100,
        "wires": [
            [
                "c9198671.db8ed8"
            ]
        ]
    },
    {
        "id": "c9198671.db8ed8",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Input 0",
        "topic": "simulator/sensor/write/din/0",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1350,
        "y": 100,
        "wires": []
    },
    {
        "id": "111e6185.0d736e",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 180,
        "wires": [
            [
                "7415983.5443268"
            ]
        ]
    },
    {
        "id": "cfe9c358.925d8",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 260,
        "wires": [
            [
                "757b6fa8.1a6ac"
            ]
        ]
    },
    {
        "id": "9853baf.dc67348",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to Live Panel",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 340,
        "wires": [
            [
                "4af29b62.96e8b4"
            ]
        ]
    },
    {
        "id": "7415983.5443268",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Input 1",
        "topic": "simulator/sensor/write/din/1",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1350,
        "y": 180,
        "wires": []
    },
    {
        "id": "757b6fa8.1a6ac",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Input 2",
        "topic": "simulator/sensor/write/din/2",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1350,
        "y": 260,
        "wires": []
    },
    {
        "id": "4af29b62.96e8b4",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Input 3",
        "topic": "simulator/sensor/write/din/3",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1350,
        "y": 340,
        "wires": []
    },
    {
        "id": "849ea569.5baf08",
        "type": "ui_led",
        "z": "74d8f714.ab8378",
        "order": 4,
        "group": "961cd96a.9245e8",
        "width": 0,
        "height": 0,
        "label": "Digital Output 00",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Digital Output 0",
        "x": 780,
        "y": 500,
        "wires": []
    },
    {
        "id": "6fe5487.54ca2b8",
        "type": "ui_led",
        "z": "74d8f714.ab8378",
        "order": 3,
        "group": "961cd96a.9245e8",
        "width": 0,
        "height": 0,
        "label": "Digital Output 01",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Digital Output 1",
        "x": 780,
        "y": 580,
        "wires": []
    },
    {
        "id": "4e7f94a6.52cb4c",
        "type": "ui_led",
        "z": "74d8f714.ab8378",
        "order": 2,
        "group": "961cd96a.9245e8",
        "width": 0,
        "height": 0,
        "label": "Digital Output 02",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Digital Output 2",
        "x": 780,
        "y": 640,
        "wires": []
    },
    {
        "id": "99829c0c.c10d7",
        "type": "ui_led",
        "z": "74d8f714.ab8378",
        "order": 1,
        "group": "961cd96a.9245e8",
        "width": 0,
        "height": 0,
        "label": "Digital Output 03",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "green",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "Digital Output 3",
        "x": 780,
        "y": 720,
        "wires": []
    },
    {
        "id": "6aec0e84.8b70d",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to MQTT Device",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 910,
        "y": 1620,
        "wires": [
            [
                "c59d3048.a25bf"
            ]
        ]
    },
    {
        "id": "128d992.6134367",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 03",
        "topic": "simulator/sensor/ain/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1720,
        "wires": [
            [
                "121f3ea5.3fb561"
            ]
        ]
    },
    {
        "id": "121f3ea5.3fb561",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1720,
        "wires": [
            [
                "88156736.bcfdc8"
            ]
        ]
    },
    {
        "id": "88156736.bcfdc8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 1720,
        "wires": [
            [
                "55f39ece.5bb14",
                "d8cb9be4.75e198"
            ]
        ]
    },
    {
        "id": "f50df6de.1ab6d8",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1620,
        "wires": [
            [
                "6c1eac22.9fe844"
            ]
        ]
    },
    {
        "id": "6c1eac22.9fe844",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 1620,
        "wires": [
            [
                "55f39ece.5bb14",
                "d8cb9be4.75e198"
            ]
        ]
    },
    {
        "id": "35bcb95a.29a1a6",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 03",
        "topic": "simulator/sensor/dout/3",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1620,
        "wires": [
            [
                "f50df6de.1ab6d8"
            ]
        ]
    },
    {
        "id": "c59d3048.a25bf",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Output 03",
        "topic": "simulator/sensor/write/dout/3",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1240,
        "y": 1620,
        "wires": []
    },
    {
        "id": "7a642dbc.a475e4",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/2') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/2') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmValue', payload: context.temp}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 1920,
        "wires": [
            [
                "17de8b38.c1e7d5",
                "e268cd9d.2f982"
            ]
        ]
    },
    {
        "id": "72c6dd3a.e7a9a4",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 1820,
        "wires": [
            [
                "ec9c6cf6.e4b4",
                "7a642dbc.a475e4"
            ]
        ]
    },
    {
        "id": "6a9548c5.04e2c8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 1920,
        "wires": [
            [
                "ec9c6cf6.e4b4",
                "7a642dbc.a475e4"
            ]
        ]
    },
    {
        "id": "fd61c7ca.675a38",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1820,
        "wires": [
            [
                "72c6dd3a.e7a9a4"
            ]
        ]
    },
    {
        "id": "ec9c6cf6.e4b4",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/2') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/2') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmState', payload: false}\n} else if (context.temp < 90 && context.smoke === 0) {\n  return {topic: 'alarmState', payload: true}\n} else {\n  return null\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 1820,
        "wires": [
            [
                "b5673934.9bd2e8"
            ]
        ]
    },
    {
        "id": "173c260e.6bcfba",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1920,
        "wires": [
            [
                "6a9548c5.04e2c8"
            ]
        ]
    },
    {
        "id": "38739588.6ed1ba",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 02",
        "topic": "simulator/sensor/dout/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1820,
        "wires": [
            [
                "fd61c7ca.675a38"
            ]
        ]
    },
    {
        "id": "b5673934.9bd2e8",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to MQTT Device",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 910,
        "y": 1820,
        "wires": [
            [
                "83402ccc.7fe1b"
            ]
        ]
    },
    {
        "id": "5026f7bb.141458",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 02",
        "topic": "simulator/sensor/ain/2",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 1920,
        "wires": [
            [
                "173c260e.6bcfba"
            ]
        ]
    },
    {
        "id": "83402ccc.7fe1b",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Output 02",
        "topic": "simulator/sensor/write/dout/2",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1240,
        "y": 1820,
        "wires": []
    },
    {
        "id": "54e0fa19.6bcf14",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/1') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/1') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmValue', payload: context.temp}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 2140,
        "wires": [
            [
                "c354f4a7.768468",
                "e268cd9d.2f982"
            ]
        ]
    },
    {
        "id": "2d75e54.546a91a",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 2040,
        "wires": [
            [
                "3f32da88.1832c6",
                "54e0fa19.6bcf14"
            ]
        ]
    },
    {
        "id": "7e4e0851.74bff8",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 2140,
        "wires": [
            [
                "3f32da88.1832c6",
                "54e0fa19.6bcf14"
            ]
        ]
    },
    {
        "id": "3f32da88.1832c6",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/1') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/1') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmState', payload: false}\n} else if (context.temp < 90 && context.smoke === 0) {\n  return {topic: 'alarmState', payload: true}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 2040,
        "wires": [
            [
                "7750aff.49b525"
            ]
        ]
    },
    {
        "id": "f3dd8565.4f1078",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 2040,
        "wires": [
            [
                "2d75e54.546a91a"
            ]
        ]
    },
    {
        "id": "8b80268f.52be18",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 2140,
        "wires": [
            [
                "7e4e0851.74bff8"
            ]
        ]
    },
    {
        "id": "7750aff.49b525",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to MQTT Device",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 910,
        "y": 2040,
        "wires": [
            [
                "2e9ee470.2857ac"
            ]
        ]
    },
    {
        "id": "45288394.76aaac",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 01",
        "topic": "simulator/sensor/dout/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 2040,
        "wires": [
            [
                "f3dd8565.4f1078"
            ]
        ]
    },
    {
        "id": "5c1d103d.2553c",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 01",
        "topic": "simulator/sensor/ain/1",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 2140,
        "wires": [
            [
                "8b80268f.52be18"
            ]
        ]
    },
    {
        "id": "2e9ee470.2857ac",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Output 01",
        "topic": "simulator/sensor/write/dout/1",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1240,
        "y": 2040,
        "wires": []
    },
    {
        "id": "643b6ef6.30dbb",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/0') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/0') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmValue', payload: context.temp}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 2340,
        "wires": [
            [
                "d8dc44be.0ded38",
                "e268cd9d.2f982"
            ]
        ]
    },
    {
        "id": "803609b8.f24618",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 2240,
        "wires": [
            [
                "1b3051fa.e7702e",
                "643b6ef6.30dbb"
            ]
        ]
    },
    {
        "id": "66077b04.aed554",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 2340,
        "wires": [
            [
                "1b3051fa.e7702e",
                "643b6ef6.30dbb"
            ]
        ]
    },
    {
        "id": "1b3051fa.e7702e",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Cek Status Data",
        "func": "context.temp = context.temp || 0.0;\ncontext.smoke = context.smoke || 0.0;\n\nif (msg.topic === 'simulator/sensor/dout/0') {\n  context.smoke = Number(msg.payload);\n} else if (msg.topic === 'simulator/sensor/ain/0') {\n  context.temp = parseFloat(msg.payload);\n}\n\nif (context.temp >= 90 && context.smoke === 1) {\n  return {topic: 'alarmState', payload: false}\n} else if (context.temp < 90 && context.smoke === 0) {\n  return {topic: 'alarmState', payload: true}\n} else {\n  return null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 2240,
        "wires": [
            [
                "e24609f5.32ac68"
            ]
        ]
    },
    {
        "id": "2d3cf8a0.ea9c88",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 2240,
        "wires": [
            [
                "803609b8.f24618"
            ]
        ]
    },
    {
        "id": "35f08408.c27c1c",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 2340,
        "wires": [
            [
                "66077b04.aed554"
            ]
        ]
    },
    {
        "id": "e24609f5.32ac68",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "JSON Convertion to Publish to MQTT Device",
        "func": "var Today = new Date();\nvar date = Today.toISOString();\nvar mydaya1= '';\n\nif (msg.payload === true) {\n  mydata1 = '{\"v\":1';\n} else {\n  mydata1 = '{\"v\":0';    \n}\n\nvar mydata2 = ',\"t\":\"'+date+'\"}';\nmsg.payload = mydata1.concat(mydata2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 910,
        "y": 2240,
        "wires": [
            [
                "96994fab.e78d6"
            ]
        ]
    },
    {
        "id": "d5002c05.9893f",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "DOUT - 00",
        "topic": "simulator/sensor/dout/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 2240,
        "wires": [
            [
                "2d3cf8a0.ea9c88"
            ]
        ]
    },
    {
        "id": "96265143.2ab7f",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "AIN - 00",
        "topic": "simulator/sensor/ain/0",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 100,
        "y": 2340,
        "wires": [
            [
                "35f08408.c27c1c"
            ]
        ]
    },
    {
        "id": "96994fab.e78d6",
        "type": "mqtt out",
        "z": "74d8f714.ab8378",
        "name": "Write Digital Output 00",
        "topic": "simulator/sensor/write/dout/0",
        "qos": "0",
        "retain": "false",
        "broker": "abf6126a.0a86e",
        "x": 1240,
        "y": 2240,
        "wires": []
    },
    {
        "id": "a8671d28.4643d",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1060,
        "wires": [
            [
                "bbbc51ab.81884"
            ]
        ]
    },
    {
        "id": "d8dc44be.0ded38",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Updated Alarm Table",
        "func": "var tgl = new Date();\ntgl = (tgl.getFullYear() + '-' + ('00' + (tgl.getMonth()+1)).slice(-2) + '-' + ('00' + tgl.getDate()).slice(-2)) ;\n\nvar jam = new Date();\njam = (('00' + jam.getHours()).slice(-2) + ':' + ('00' + jam.getMinutes()).slice(-2) + ':' + ('00' + jam.getSeconds()).slice(-2));\n\nvar d = [\n    {\n        \"Date\": tgl,\n        \"Time\": jam,\n        \"Register\":\"0\",\n        \"Alarm\": \"<div style='background-color: yellow; width:100%; color:red'>\" + msg.payload + \"</div>\",\n        \"Notes\": \"Data Terbaca Saat ini Sudah Melewati Ambang Batas\"\n    }\n]\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 2340,
        "wires": [
            [
                "e36f3a9f.a38dd8"
            ]
        ]
    },
    {
        "id": "c354f4a7.768468",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Updated Alarm Table",
        "func": "var tgl = new Date();\ntgl = (tgl.getFullYear() + '-' + ('00' + (tgl.getMonth()+1)).slice(-2) + '-' + ('00' + tgl.getDate()).slice(-2)) ;\n\nvar jam = new Date();\njam = (('00' + jam.getHours()).slice(-2) + ':' + ('00' + jam.getMinutes()).slice(-2) + ':' + ('00' + jam.getSeconds()).slice(-2));\n\nvar d = [\n    {\n        \"Date\": tgl,\n        \"Time\": jam,\n        \"Register\":\"1\",\n        \"Alarm\": \"<div style='background-color: yellow; width:100%; color:red'>\" + msg.payload + \"</div>\",\n        \"Notes\": \"Data Terbaca Saat ini Sudah Melewati Ambang Batas\"\n    }\n]\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 2140,
        "wires": [
            [
                "e36f3a9f.a38dd8"
            ]
        ]
    },
    {
        "id": "17de8b38.c1e7d5",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Updated Alarm Table",
        "func": "var tgl = new Date();\ntgl = (tgl.getFullYear() + '-' + ('00' + (tgl.getMonth()+1)).slice(-2) + '-' + ('00' + tgl.getDate()).slice(-2)) ;\n\nvar jam = new Date();\njam = (('00' + jam.getHours()).slice(-2) + ':' + ('00' + jam.getMinutes()).slice(-2) + ':' + ('00' + jam.getSeconds()).slice(-2));\n\nvar d = [\n    {\n        \"Date\": tgl,\n        \"Time\": jam,\n        \"Register\":\"2\",\n        \"Alarm\": \"<div style='background-color: yellow; width:100%; color:red'>\" + msg.payload + \"</div>\",\n        \"Notes\": \"Data Terbaca Saat ini Sudah Melewati Ambang Batas\"\n    }\n]\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 1920,
        "wires": [
            [
                "e36f3a9f.a38dd8"
            ]
        ]
    },
    {
        "id": "e0eb6f7b.71c07",
        "type": "function",
        "z": "74d8f714.ab8378",
        "name": "Updated Alarm Table",
        "func": "var tgl = new Date();\ntgl = (tgl.getFullYear() + '-' + ('00' + (tgl.getMonth()+1)).slice(-2) + '-' + ('00' + tgl.getDate()).slice(-2)) ;\n\nvar jam = new Date();\njam = (('00' + jam.getHours()).slice(-2) + ':' + ('00' + jam.getMinutes()).slice(-2) + ':' + ('00' + jam.getSeconds()).slice(-2));\n\nvar d = [\n    {\n        \"Date\": tgl,\n        \"Time\": jam,\n        \"Register\":\"3\",\n        \"Alarm\": \"<div style='background-color: yellow; width:100%; color:red'>\" + msg.payload + \"</div>\",\n        \"Notes\": \"Data Terbaca Saat ini Sudah Melewati Ambang Batas\"\n    }\n]\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 1720,
        "wires": [
            [
                "e36f3a9f.a38dd8"
            ]
        ]
    },
    {
        "id": "e36f3a9f.a38dd8",
        "type": "ui_table",
        "z": "74d8f714.ab8378",
        "group": "81dd3718.b97888",
        "name": "Alarm",
        "order": 1,
        "width": 20,
        "height": 1,
        "columns": [
            {
                "field": "Date",
                "title": "<center>Date</>",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "Time",
                "title": "<center>Time</>",
                "width": "10%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "Register",
                "title": "<center>Analog Input</>",
                "width": "15%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "Alarm",
                "title": "<center>Value Alarm</>",
                "width": "20%",
                "align": "center",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "Notes",
                "title": "<center>Alarm Message</>",
                "width": "40%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1210,
        "y": 2340,
        "wires": []
    },
    {
        "id": "3dcb142.e9084ec",
        "type": "ui_artlessgauge",
        "z": "74d8f714.ab8378",
        "group": "e9e8770c.545a98",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "Analog Output 0",
        "icon": "",
        "label": "Analog Output 00",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "colorFromTheme": true,
        "property": "payload.v",
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 420,
        "y": 1220,
        "wires": []
    },
    {
        "id": "ff77c016.1823f",
        "type": "ui_artlessgauge",
        "z": "74d8f714.ab8378",
        "group": "e9e8770c.545a98",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "Analog Output 1",
        "icon": "",
        "label": "Analog Output 01",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "colorFromTheme": true,
        "property": "payload.v",
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 420,
        "y": 1280,
        "wires": []
    },
    {
        "id": "55feb4c8.be22ec",
        "type": "ui_artlessgauge",
        "z": "74d8f714.ab8378",
        "group": "e9e8770c.545a98",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Analog Output 2",
        "icon": "",
        "label": "Analog Output 02",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "colorFromTheme": true,
        "property": "payload.v",
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 420,
        "y": 1340,
        "wires": []
    },
    {
        "id": "592c09e7.f124c8",
        "type": "ui_artlessgauge",
        "z": "74d8f714.ab8378",
        "group": "e9e8770c.545a98",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Analog Output 3",
        "icon": "",
        "label": "Analog Output 03",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": false,
        "colorTrack": "#555555",
        "colorFromTheme": true,
        "property": "payload.v",
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": 3,
        "bgcolorFromTheme": true,
        "diffCenter": "",
        "x": 420,
        "y": 1400,
        "wires": []
    },
    {
        "id": "4b1bc042.6896d",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Device Date",
        "info": "",
        "x": 660,
        "y": 1160,
        "wires": []
    },
    {
        "id": "1d0928ae.deccd7",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 730,
        "y": 1220,
        "wires": [
            [
                "50c180c1.e2356"
            ]
        ]
    },
    {
        "id": "99e00c4d.120d",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Year",
        "topic": "simulator/sensor/dev/year",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 590,
        "y": 1220,
        "wires": [
            [
                "1d0928ae.deccd7"
            ]
        ]
    },
    {
        "id": "50c180c1.e2356",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "980de09e.b8405",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Year :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 870,
        "y": 1220,
        "wires": []
    },
    {
        "id": "7df7797f.a0a498",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 730,
        "y": 1280,
        "wires": [
            [
                "e20ce05f.a84de"
            ]
        ]
    },
    {
        "id": "b03ed28e.8dafc",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Month",
        "topic": "simulator/sensor/dev/month",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 590,
        "y": 1280,
        "wires": [
            [
                "7df7797f.a0a498"
            ]
        ]
    },
    {
        "id": "e20ce05f.a84de",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "980de09e.b8405",
        "order": 0,
        "width": "4",
        "height": "1",
        "name": "",
        "label": "Month :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 880,
        "y": 1280,
        "wires": []
    },
    {
        "id": "8d44bb8b.571258",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 730,
        "y": 1340,
        "wires": [
            [
                "2eefd917.1b4006"
            ]
        ]
    },
    {
        "id": "bebff868.d96208",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Day",
        "topic": "simulator/sensor/dev/day",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 590,
        "y": 1340,
        "wires": [
            [
                "8d44bb8b.571258"
            ]
        ]
    },
    {
        "id": "2eefd917.1b4006",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "980de09e.b8405",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Day :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 870,
        "y": 1340,
        "wires": []
    },
    {
        "id": "71a3012d.75021",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "1428a950.c17cb7",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Hour :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 1310,
        "y": 1220,
        "wires": []
    },
    {
        "id": "fe125ce6.2f73d",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1170,
        "y": 1220,
        "wires": [
            [
                "71a3012d.75021"
            ]
        ]
    },
    {
        "id": "25464b56.c95ca4",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Hour",
        "topic": "simulator/sensor/dev/hour",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 1030,
        "y": 1220,
        "wires": [
            [
                "fe125ce6.2f73d"
            ]
        ]
    },
    {
        "id": "bc9560da.e476",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1170,
        "y": 1280,
        "wires": [
            [
                "26160ea4.784de2"
            ]
        ]
    },
    {
        "id": "26160ea4.784de2",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "1428a950.c17cb7",
        "order": 0,
        "width": "4",
        "height": "1",
        "name": "",
        "label": "Minute :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 1320,
        "y": 1280,
        "wires": []
    },
    {
        "id": "e9c51ae6.a2ae88",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Minute",
        "topic": "simulator/sensor/dev/minute",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 1030,
        "y": 1280,
        "wires": [
            [
                "bc9560da.e476"
            ]
        ]
    },
    {
        "id": "6367dc3b.e16c24",
        "type": "json",
        "z": "74d8f714.ab8378",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1170,
        "y": 1340,
        "wires": [
            [
                "9ca3575c.8d5748"
            ]
        ]
    },
    {
        "id": "9ca3575c.8d5748",
        "type": "ui_text",
        "z": "74d8f714.ab8378",
        "group": "1428a950.c17cb7",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Second :",
        "format": "{{msg.payload.v}}",
        "layout": "row-spread",
        "x": 1320,
        "y": 1340,
        "wires": []
    },
    {
        "id": "3678e194.41b17e",
        "type": "mqtt in",
        "z": "74d8f714.ab8378",
        "name": "Second",
        "topic": "simulator/sensor/dev/second",
        "qos": "0",
        "datatype": "auto",
        "broker": "abf6126a.0a86e",
        "inputs": 0,
        "x": 1030,
        "y": 1340,
        "wires": [
            [
                "6367dc3b.e16c24"
            ]
        ]
    },
    {
        "id": "fcf9ec0e.6e86",
        "type": "comment",
        "z": "74d8f714.ab8378",
        "name": "Dashboard Untuk Device Time",
        "info": "",
        "x": 1100,
        "y": 1160,
        "wires": []
    },
    {
        "id": "51b396aa.dac968",
        "type": "ui_audio",
        "z": "74d8f714.ab8378",
        "name": "Alert",
        "group": "81dd3718.b97888",
        "voice": "id-ID",
        "always": false,
        "x": 1210,
        "y": 2400,
        "wires": []
    },
    {
        "id": "e268cd9d.2f982",
        "type": "trigger",
        "z": "74d8f714.ab8378",
        "name": "",
        "op1": "Attention Please Your Data Is OverLoad NOW",
        "op2": "",
        "op1type": "str",
        "op2type": "nul",
        "duration": "1",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1060,
        "y": 2400,
        "wires": [
            [
                "51b396aa.dac968"
            ]
        ]
    },
    {
        "id": "d03618f9.bd6018",
        "type": "change",
        "z": "74d8f714.ab8378",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 880,
        "wires": [
            [
                "841f5b18.848568"
            ]
        ]
    },
    {
        "id": "bdc74ee40e8c0e97",
        "type": "inject",
        "z": "819266d917a0c0a4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ns=3;i=1002;datatype=Int32",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 360,
        "wires": [
            [
                "2d9e92e3d41ddef4"
            ]
        ]
    },
    {
        "id": "796aef1ece49097b",
        "type": "function",
        "z": "819266d917a0c0a4",
        "name": "Gen Alarm",
        "func": "// var Counter = msg.payload; // Payload is currently a date, so simulate or extract adc value here\n// var rtObj = {};\n\n// // Check if the topic matches the desired OPC UA address\n// if (msg.topic === \"ns=3;i=1002;datatype=Int32\") {\n\n//     if (Counter < 10) {\n//         rtObj.payload = \"Counter value is low!\";\n//     } else if (Counter > 25) {\n//         rtObj.payload = \"Counter value is high!\";\n//     } else {\n//         rtObj.payload = \"Counter value is ok!\";\n//         rtObj.reset = true;\n//     }\n// } else {\n//     rtObj.payload = \"Unknown topic or Counter value not available!\";\n// }\n\n// return rtObj;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 320,
        "wires": [
            [
                "eb95cb44028f4818"
            ]
        ]
    },
    {
        "id": "0d87563fe1d8a0a2",
        "type": "ui_audio",
        "z": "819266d917a0c0a4",
        "name": "",
        "group": "9cbe2d4f.e4c55",
        "voice": "Google US English",
        "always": true,
        "x": 694,
        "y": 361,
        "wires": [],
        "l": false
    },
    {
        "id": "5e9e59849d35253f",
        "type": "ui_toast",
        "z": "819266d917a0c0a4",
        "position": "bottom right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 672,
        "y": 456,
        "wires": [],
        "l": false
    },
    {
        "id": "eb95cb44028f4818",
        "type": "trigger",
        "z": "819266d917a0c0a4",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "-5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 472,
        "y": 406,
        "wires": [
            [
                "0d87563fe1d8a0a2",
                "5e9e59849d35253f",
                "949bf0139d2fcbb9"
            ]
        ],
        "l": false
    },
    {
        "id": "949bf0139d2fcbb9",
        "type": "debug",
        "z": "819266d917a0c0a4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 646,
        "y": 532,
        "wires": [],
        "l": false
    },
    {
        "id": "487e232375513f39",
        "type": "debug",
        "z": "819266d917a0c0a4",
        "name": "debug 20",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 280,
        "y": 440,
        "wires": []
    },
    {
        "id": "2d9e92e3d41ddef4",
        "type": "OpcUa-Client",
        "z": "819266d917a0c0a4",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "ca9f87c48dd056f7"
            ],
            []
        ]
    },
    {
        "id": "ca9f87c48dd056f7",
        "type": "function",
        "z": "819266d917a0c0a4",
        "name": "function 30",
        "func": "var rtObj = {};\n\nif (msg.topic === \"ns=3;i=1002;datatype=Int32\") {\n\n    if (msg.topic < 10) {\n        rtObj.payload = \"Counter value is low!\";\n    } else if (msg.topic > 25) {\n        rtObj.payload = \"Counter value is high!\";\n    } else {\n        rtObj.payload = \"Counter value is ok!\";\n        rtObj.reset = true;\n    }\n} else {\n    rtObj.payload = \"Unknown topic or Counter value not available!\";\n}\n\nreturn rtObj;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 2,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 240,
        "wires": [
            [
                "487e232375513f39"
            ]
        ]
    },
    {
        "id": "1a4b4e33fb7b29a7",
        "type": "inject",
        "z": "75513ffa11222e64",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ns=3;i=1002;datatype=Int32",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 300,
        "wires": [
            [
                "92ad690b07efbef8"
            ]
        ]
    },
    {
        "id": "92ad690b07efbef8",
        "type": "OpcUa-Client",
        "z": "75513ffa11222e64",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 320,
        "y": 300,
        "wires": [
            [
                "6390cbce20e0efd6"
            ],
            []
        ]
    },
    {
        "id": "6390cbce20e0efd6",
        "type": "function",
        "z": "75513ffa11222e64",
        "name": "Check Value",
        "func": "if (msg.payload > 25) {\n    msg.payload = \"Value High\";\n} else if (msg.payload < 5) {\n    msg.payload = \"Value Low\";\n} else {\n    msg.payload = \"Value Good\";\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 260,
        "wires": [
            [
                "3eb592f13db733d2"
            ]
        ]
    },
    {
        "id": "2a617dae207fef04",
        "type": "ui_audio",
        "z": "75513ffa11222e64",
        "name": "",
        "group": "9cbe2d4f.e4c55",
        "voice": "Google US English",
        "always": true,
        "x": 875,
        "y": 260,
        "wires": [],
        "l": false
    },
    {
        "id": "e41d22b0903ae758",
        "type": "ui_toast",
        "z": "75513ffa11222e64",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 875,
        "y": 340,
        "wires": [],
        "l": false
    },
    {
        "id": "3eb592f13db733d2",
        "type": "trigger",
        "z": "75513ffa11222e64",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "-5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 685,
        "y": 300,
        "wires": [
            [
                "e41d22b0903ae758",
                "1a01d8f8264e5b51",
                "2a617dae207fef04"
            ]
        ],
        "l": false
    },
    {
        "id": "1a01d8f8264e5b51",
        "type": "debug",
        "z": "75513ffa11222e64",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 875,
        "y": 420,
        "wires": [],
        "l": false
    },
    {
        "id": "238592fd2114e360",
        "type": "inject",
        "z": "deb0d57.1c46528",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 280,
        "wires": [
            [
                "53a047764a6e3fc2"
            ]
        ]
    },
    {
        "id": "53a047764a6e3fc2",
        "type": "function",
        "z": "deb0d57.1c46528",
        "name": "function 31",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 280,
        "wires": [
            [
                "5d68e55bac40a01b"
            ],
            [
                "5d68e55bac40a01b"
            ],
            [
                "5d68e55bac40a01b"
            ],
            [
                "5d68e55bac40a01b"
            ],
            [
                "5d68e55bac40a01b"
            ],
            [
                "5d68e55bac40a01b"
            ]
        ]
    },
    {
        "id": "6210475efe9ac315",
        "type": "function",
        "z": "deb0d57.1c46528",
        "name": "function 32",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 280,
        "wires": [
            [
                "3660dbeb97ed1e57"
            ],
            [
                "3660dbeb97ed1e57"
            ],
            [
                "3660dbeb97ed1e57"
            ],
            [
                "3660dbeb97ed1e57"
            ],
            [
                "3660dbeb97ed1e57"
            ],
            [
                "3660dbeb97ed1e57"
            ]
        ]
    },
    {
        "id": "5d68e55bac40a01b",
        "type": "OpcUa-Client",
        "z": "deb0d57.1c46528",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 580,
        "y": 280,
        "wires": [
            [
                "6210475efe9ac315"
            ],
            []
        ]
    },
    {
        "id": "52a0afee274ce9f0",
        "type": "ui_template",
        "z": "deb0d57.1c46528",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 180,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "b2c09b65faba8b35",
        "type": "ui_numeric",
        "z": "deb0d57.1c46528",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 370,
        "y": 440,
        "wires": [
            [
                "3660dbeb97ed1e57"
            ]
        ]
    },
    {
        "id": "aecaaaa08f070c87",
        "type": "debug",
        "z": "deb0d57.1c46528",
        "name": "debug 21",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 520,
        "wires": []
    },
    {
        "id": "91a1c16d731ee953",
        "type": "OpcUa-Client",
        "z": "deb0d57.1c46528",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 820,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3660dbeb97ed1e57",
        "type": "ui_template",
        "z": "deb0d57.1c46528",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <!-- <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"> -->\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #00508a;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid black;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #005fa3;\n        }\n\n        /* .dropdown-icon {\n            margin-left: auto;\n            font-size: 12px;\n            transition: transform 0.3s ease;\n            \n        } */\n\n        /* .module-button.active .dropdown-icon {\n            transform: rotate(180deg);\n        } */\n\n        .submodule-container {\n            display: none;\n            /* padding-left: 10px; */\n            /* margin-top: 10px; */\n            background-color: #00508a;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            /* border-radius: 5px; */\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #005fa3;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-triangle-exclamation {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-gear {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-file {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <!-- <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Unit 2\n            <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span>\n        </button> -->\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            // Hide other submodule containers and reset buttons\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            // Toggle current submodule container\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            // Load submodules dynamically if not already loaded\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n                    // case 'homeSubmodules':\n                    //     submodules = ['Dashboard'];\n                    //     break;\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    // case 'departmentsSubmodules':\n                    //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    //     break;\n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #00508a;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            /* align-items: center; */\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            /* align-items: center; */\n            border-right: 0.5px solid black;\n            border-bottom: 0.5px solid black;\n            padding-right: 50px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid black;\n        }\n\n        .company-logo {\n            margin-top: 8px;\n            height: 47px;\n            width: 47px;\n            background: white;\n            margin-left: 30px;\n            border-radius: 50px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 16px;\n            margin-right: -10px;\n            padding-top: 10px;\n            /* border: 1px solid black; */\n\n        }\n    </style>\n</head>\n\n</html>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n        </div>\n        <div class=\"company-name\"\n            style=\"position: absolute; top: 11px; font-size:30px; font-weight: bold; left: 520px;\">\n            <span>TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"time\"></span><br>\n            <span id=\"date\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const now = new Date();\n\n            // Time in HH:MM:SS AM/PM\n            const timeString = now.toLocaleTimeString('en-US', { \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit', \n                hour12: true \n            });\n\n            // Date in DD/MM/YYYY format\n            const day = String(now.getDate()).padStart(2, '0');\n            const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed\n            const year = now.getFullYear();\n            const weekday = now.toLocaleDateString('en-US', { weekday: 'long' });\n\n            // Display the time and date in separate lines\n            document.getElementById('time').textContent = `Time : ${timeString}`;\n            document.getElementById('date').textContent = `Date : ${day}/${month}/${year} - ${weekday}`;\n        }\n\n        // Call the function every second to update the time and date\n        setInterval(updateTime, 1000);\n        updateTime();  // Initial call to display immediately\n    </script>\n</body>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:30px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\"> -->\n    <img src=\"http://localhost:1880/rdf00.gif\" style=\"position:absolute; left:260px; top:220px; width:150px; height:120px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:195px; top:275px; width:80px; height:7px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\"> -->\n    <img src=\"http://localhost:1880/sf00.gif\" style=\"position:absolute; left:380px; top:468px; width:50px; height:50px; border-radius: 50px; border: 1px solid black;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:332px; top:319px; width:6px; height:170px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:332px; top:489px; width:47px; height:6px;\">\n    <img src=\"http://localhost:1880/icyclone00.jpg\" style=\"position:absolute; left:502px; top:432px; width:120px; height:190px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:432px; top:489px; width:70px; height:6px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redarrow00_x.gif\" style=\"position:absolute; left:395px; top:295px; width:80px; height:25px;\"> -->\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:395px; top:305px; width:50px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:241px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:311px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/fan00.gif\" style=\"position:absolute; left:500px; top:198px; width:85px; height:80px;\">\n    <img src=\"http://localhost:1880/fan00.gif\" style=\"position:absolute; left:500px; top:340px; width:85px; height:80px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:237px; width:6px; height:76px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:313px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:642px; top:305px; width:167px; height:6px;\">\n    <img src=\"http://localhost:1880/exhaust00.gif\" style=\"position:absolute; left:655px; top:80px; width:65px; height:55px;\">\n    <img src=\"http://localhost:1880/intake00.gif\" style=\"position:absolute; left:795px; top:95px; width:35px; height:35px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:678px; top:129px; width:6px; height:175px;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:809px; top:130px; width:6px; height:176px;\">\n    <img src=\"http://localhost:1880/box00.gif\" style=\"position:absolute; left:930px; top:186px; width:270px; height:150px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:809px; top:305px; width:140px; height:6px;\">\n    <img src=\"http://localhost:1880/blueline00_x.png\" style=\"position:absolute; left:1192px; top:295px; width:110px; height:6px;\">\n    <img src=\"http://localhost:1880/fan00.gif\" style=\"position:absolute; left:1267px; top:385px; width:80px; height:80px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:295px; width:6px; height:101px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:454px; width:6px; height:85px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1253px; top:238px; width:6px; height:63px;\">\n    <!-- <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\"> -->\n    <img src=\"http://localhost:1880/recirculation00.gif\" style=\"position:absolute; left:720px; top:280px; width:60px; height:60px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\"> -->\n    <!-- <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\"> -->\n    <!-- <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\"> -->\n    <p style=\"position:absolute; left:315px; top:215px; color:black;\"><b>RDF</b></p>\n    <p style=\"position:absolute; left:529px; top:181px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:529px; top:323px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:400px; top:516px; color:black;\"><b>SF</b></p>\n    <p style=\"position:absolute; left:540px; top:622px; color:black;\"><b>Cyclone</b></p>\n    <p style=\"position:absolute; left:1240px; top:412px; color:black;\"><b>Fan</b></p>\n\n    <div style=\"position:absolute; left:1200px; top:30px; color:#00508a; font-size:30px;\"><b><u>Spinning-2</u></b></div>\n    <p style=\"position:absolute; left:660px; top:57px; color:black;\"><b>Exhaust</b></p>\n    <p style=\"position:absolute; left:765px; top:65px; color:black;\"><b>Fresh Intake</b></p>\n    <p style=\"position:absolute; left:702px; top:252px; color:black;\"><b>Recirculation</b></p>\n    <p style=\"position:absolute; left:1027px; top:343px; color:black;\"><b>Air Washer</b></p>\n\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:228px; top:269px; width:18px; height:19px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:412px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:695px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:855px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_b.png\" style=\"position:absolute; left:327px; top:395px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:458px; top:484px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:340px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:480px; width:16px; height:17px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:355px; top:332px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:363px; top:517px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:617px; top:445px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:580px; top:333px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:578px; top:190px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1198px; top:327px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1338px; top:463px; width:20px; height:20px;\">\n    <!-- <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p> -->\n\n    <div\n        style=\"position:absolute; left:1215px; top:526px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:362px; top:235px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:498px; top:292px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1116px; top:345px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1213px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1220px; top:475px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:539px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:583px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1224px; top:533px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1238px; top:580px;\"><b>°C</b></p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 140px; margin-top: 100px; transform-origin: top:150px; left:400px; display: none;\">\n    <!-- style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\"\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\"> -->\n    <!-- <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1> -->\n    <img src=\"http://localhost:1880/spinning200.png\" style=\"position:fixed; width: 1230px; height: 600px;\">\n</div>\n\n\n<!-- <div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                // case 'homeSubmodules':\n                //     submodules = ['Dashboard'];\n                //     break;\n                case 'departmentsSubmodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                // case 'departmentsSubmodules':\n                //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                //     break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script> -->\n\n<!-- Modal Background -->\n<div id=\"myModal\" class=\"modal\" style=\"display: none;\">\n    <div class=\"modal-content\">\n        <span class=\"close\">&times;</span>\n        <h2>Set Point</h2>\n        <div id=\"custominputdiv\">\n            <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n            <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n            <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n        </div>\n    </div>\n</div>\n\n<style>\n    .modal {\n        display: none;\n        /* Hidden by default */\n        position: fixed;\n        /* Stay in place */\n        z-index: 1;\n        /* Sit on top */\n        left: 0;\n        top: 0;\n        width: 100%;\n        /* Full width */\n        height: 100%;\n        /* Full height */\n        overflow: auto;\n        /* Enable scroll if needed */\n        background-color: rgb(0, 0, 0);\n        /* Fallback color */\n        background-color: rgba(0, 0, 0, 0.4);\n        /* Black w/ opacity */\n    }\n\n    .modal-content {\n        background-color: #fefefe;\n        margin: 15% auto;\n        /* 15% from the top and centered */\n        padding: 20px;\n        border: 1px solid #888;\n        width: 80%;\n        /* Could be more or less, depending on screen size */\n    }\n\n    .close {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n    }\n\n    .close:hover,\n    .close:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n    }\n</style>\n\n<script>\n    // Get the modal\n    var modal = document.getElementById(\"myModal\");\n\n    // Get the button that opens the modal\n    var btn = document.querySelector('button.submodule-button[data-submodule=\"Set Point\"]');\n\n    // Get the <span> element that closes the modal\n    var span = document.getElementsByClassName(\"close\")[0];\n\n    // When the user clicks on the button, open the modal \n    btn.onclick = function() {\n        modal.style.display = \"block\";\n    }\n\n    // When the user clicks on <span> (x), close the modal\n    span.onclick = function() {\n        modal.style.display = \"none\";\n    }\n\n    // When the user clicks anywhere outside of the modal, close it\n    window.onclick = function(event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    }\n\n    // Your existing code for handling button click inside the modal\n    (function(scope) {\n        document.getElementById('updateValueButton').addEventListener('click', function() {\n            var value = document.getElementById('customValueInput').value;\n            if (value !== '') {\n                scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n            }\n        });\n    })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'departmentsSubmodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Trends', 'Report'];\n                break;\n        }\n        container.innerHTML = ''; // Clear previous submodules\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.dataset.submodule = submodule;\n            btn.innerHTML = submodule;\n            btn.onclick = function () {\n                // Hide all divs initially\n                document.getElementById('spinning1Div').style.display = 'none';\n                document.getElementById('spinning2Div').style.display = 'none';\n                // document.getElementById('chartdiv').style.display = 'none';\n\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                } else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n                } else if (submodule === 'Trends') {\n                    window.open('http://localhost:3000/dashboards', '_blank');\n                } else if (submodule === 'Report') {\n                    window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                } else if (submodule === 'Set Point') {\n                    modal.style.display = 'block';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 440,
        "wires": [
            [
                "aecaaaa08f070c87",
                "91a1c16d731ee953"
            ]
        ]
    },
    {
        "id": "77125bd266077c65",
        "type": "inject",
        "z": "887e18ccfc0ca88c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 280,
        "wires": [
            [
                "00975950d1918b79"
            ]
        ]
    },
    {
        "id": "00975950d1918b79",
        "type": "function",
        "z": "887e18ccfc0ca88c",
        "name": "function 31",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 280,
        "wires": [
            [
                "80adedbcb6cd7716"
            ],
            [
                "80adedbcb6cd7716"
            ],
            [
                "80adedbcb6cd7716"
            ],
            [
                "80adedbcb6cd7716"
            ],
            [
                "80adedbcb6cd7716"
            ],
            [
                "80adedbcb6cd7716"
            ]
        ]
    },
    {
        "id": "f9c0f2142216e939",
        "type": "function",
        "z": "887e18ccfc0ca88c",
        "name": "function 32",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 280,
        "wires": [
            [
                "224052865d20dadf"
            ],
            [
                "224052865d20dadf"
            ],
            [
                "224052865d20dadf"
            ],
            [
                "224052865d20dadf"
            ],
            [
                "224052865d20dadf"
            ],
            [
                "224052865d20dadf"
            ]
        ]
    },
    {
        "id": "80adedbcb6cd7716",
        "type": "OpcUa-Client",
        "z": "887e18ccfc0ca88c",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 580,
        "y": 280,
        "wires": [
            [
                "f9c0f2142216e939"
            ],
            []
        ]
    },
    {
        "id": "afc85bccb57d5913",
        "type": "ui_template",
        "z": "887e18ccfc0ca88c",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 180,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "630db84013010421",
        "type": "ui_numeric",
        "z": "887e18ccfc0ca88c",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 370,
        "y": 440,
        "wires": [
            [
                "224052865d20dadf"
            ]
        ]
    },
    {
        "id": "45ca2f0c36e4ba82",
        "type": "debug",
        "z": "887e18ccfc0ca88c",
        "name": "debug 21",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 520,
        "wires": []
    },
    {
        "id": "11c4e2123dff0fa5",
        "type": "OpcUa-Client",
        "z": "887e18ccfc0ca88c",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 820,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "224052865d20dadf",
        "type": "ui_template",
        "z": "887e18ccfc0ca88c",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <!-- <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"> -->\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #00508a;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid black;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #005fa3;\n        }\n\n        /* .dropdown-icon {\n            margin-left: auto;\n            font-size: 12px;\n            transition: transform 0.3s ease;\n            \n        } */\n\n        /* .module-button.active .dropdown-icon {\n            transform: rotate(180deg);\n        } */\n\n        .submodule-container {\n            display: none;\n            /* padding-left: 10px; */\n            /* margin-top: 10px; */\n            background-color: #00508a;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            /* border-radius: 5px; */\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #005fa3;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-triangle-exclamation {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-gear {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n\n        .fa-file {\n            font-size: 11px;\n            padding-right: 7px;\n            /* margin-top: -2px; */\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <!-- <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Unit 2\n            <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span>\n        </button> -->\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics\n            <!-- <span class=\"dropdown-icon\"><i class=\"fas fa-chevron-down\"></i></span> -->\n        </button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            // Hide other submodule containers and reset buttons\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            // Toggle current submodule container\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            // Load submodules dynamically if not already loaded\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n                    // case 'homeSubmodules':\n                    //     submodules = ['Dashboard'];\n                    //     break;\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    // case 'departmentsSubmodules':\n                    //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    //     break;\n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #00508a;\n            /* background-color: #007fff; */\n            display: flex;\n            justify-content: space-between;\n            /* align-items: center; */\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            /* align-items: center; */\n            border-right: 0.5px solid black;\n            border-bottom: 0.5px solid black;\n            padding-right: 50px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid black;\n        }\n\n        .company-logo {\n            margin-top: 8px;\n            height: 47px;\n            width: 47px;\n            background: white;\n            margin-left: 30px;\n            border-radius: 50px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 16px;\n            margin-right: -10px;\n            padding-top: 10px;\n            /* border: 1px solid black; */\n\n        }\n    </style>\n</head>\n\n</html>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n        </div>\n        <div class=\"company-name\"\n            style=\"position: absolute; top: 11px; font-size:30px; font-weight: bold; left: 520px;\">\n            <span>TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"time\"></span><br>\n            <span id=\"date\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const now = new Date();\n\n            // Time in HH:MM:SS AM/PM\n            const timeString = now.toLocaleTimeString('en-US', { \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit', \n                hour12: true \n            });\n\n            // Date in DD/MM/YYYY format\n            const day = String(now.getDate()).padStart(2, '0');\n            const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed\n            const year = now.getFullYear();\n            const weekday = now.toLocaleDateString('en-US', { weekday: 'long' });\n\n            // Display the time and date in separate lines\n            document.getElementById('time').textContent = `Time : ${timeString}`;\n            document.getElementById('date').textContent = `Date : ${day}/${month}/${year}`;\n        }\n\n        // Call the function every second to update the time and date\n        setInterval(updateTime, 1000);\n        updateTime();  // Initial call to display immediately\n    </script>\n</body>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:30px; transform-origin: top:200px; left:100px; width: 100%; height: 100%; display: none;\">\n\n    <div style=\"position: absolute; top: 15px; left: 130px; width: 1260px; height: 630px; border: 1px solid #C5C6D0; border-radius: 20px;\"></div>\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:202px; top:272px; width:28px; height:4px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:236px; top:272px; width:25px; height:4px;\"> -->\n    <img src=\"http://localhost:1880/rdf00.gif\" style=\"position:absolute; left:260px; top:220px; width:150px; height:120px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:195px; top:275px; width:80px; height:7px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:310px; top:300px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:307px; top:335px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:310px; top:396px; width:40px; height:4px;\"> -->\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:360px; top:500px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/sf00.gif\" style=\"position:absolute; left:380px; top:518px; width:50px; height:50px; border-radius: 50px; border: 1px solid black;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:332px; top:319px; width:6px; height:220px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:332px; top:539px; width:47px; height:6px;\">\n    <img src=\"http://localhost:1880/icyclone000.jpg\" style=\"position:absolute; left:502px; top:445px; width:80px; height:180px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:432px; top:539px; width:70px; height:6px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:400px; top:396px; width:50px; height:4px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:418px; top:393px; width:10px; height:10px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:360px; top:270px; width:100px; height:5px;\"> -->\n    <!-- <img src=\"http://localhost:1880/redarrow00_x.gif\" style=\"position:absolute; left:395px; top:295px; width:80px; height:25px;\"> -->\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:395px; top:305px; width:50px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:241px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:311px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:208px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:350px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:237px; width:6px; height:76px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:313px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:642px; top:305px; width:167px; height:6px;\">\n    <img src=\"http://localhost:1880/exhaust000.gif\" style=\"position:absolute; left:668px; top:78px; width:30px; height:40px;\">\n    <img src=\"http://localhost:1880/intake00.gif\" style=\"position:absolute; left:795px; top:95px; width:35px; height:35px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:678px; top:129px; width:6px; height:175px;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:809px; top:130px; width:6px; height:176px;\">\n    <img src=\"http://localhost:1880/airwasher2000.png\" style=\"position:absolute; left:943px; top:242px; width:270px; height:150px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:809px; top:305px; width:155px; height:6px;\">\n    <img src=\"http://localhost:1880/blueline00_x.png\" style=\"position:absolute; left:1192px; top:295px; width:110px; height:6px;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:1273px; top:391px; width:43px; height:43px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:295px; width:6px; height:97px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:454px; width:6px; height:85px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1253px; top:238px; width:6px; height:63px;\">\n    <!-- <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:675px; top:273.5px; width:5px; height:140px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:580px; top:270px; width:150px; height:4px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:676px; top:409px; width:120px; height:5px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:790px; top:407px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:171px; width:4px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:663px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/redline0_y.png\" style=\"position:absolute; left:690px; top:120px; width:3px; height:30px;\">\n    <img src=\"http://localhost:1880/redarrow0_y.png\" style=\"position:absolute; left:686px; top:110px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/redarrow0_x.png\" style=\"position:absolute; left:700px; top:267px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:730px; top:243px; width:30px; height:60px;\">\n    <img src=\"http://localhost:1880/redline0_x.png\" style=\"position:absolute; left:760px; top:272px; width:30px; height:3px;\"> -->\n    <img src=\"http://localhost:1880/recirculation00.gif\" style=\"position:absolute; left:715px; top:266px; width:78px; height:85px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:782px; top:130px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:652px; top:130px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/circleline0_y.png\" style=\"position:absolute; left:739px; top:286px; width:30px; height:45px;\">\n    <!-- <img src=\"http://localhost:1880/greenline0_x.png\" style=\"position:absolute; left:790px; top:271.6px; width:138px; height:3px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:172px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/circleline0_x.png\" style=\"position:absolute; left:763px; top:150px; width:60px; height:25px;\">\n    <img src=\"http://localhost:1880/greenline0_y.png\" style=\"position:absolute; left:790px; top:121px; width:3px; height:29px;\">\n    <img src=\"http://localhost:1880/greenarrow0_y.png\" style=\"position:absolute; left:786.5px; top:111px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/greenarrow0_x.png\" style=\"position:absolute; left:820px; top:268px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_x.png\" style=\"position:absolute; left:1110px; top:270px; width:100px; height:3px;\">\n    <img src=\"http://localhost:1880/blackline0_y.png\" style=\"position:absolute; left:1160px; top:231px; width:3px; height:40px;\"> -->\n    <!-- <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:271px; width:3px; height:40px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:295px; width:10px; height:10px;\">\n    <img src=\"http://localhost:1880/blueline0_y.png\" style=\"position:absolute; left:1207px; top:380px; width:3px; height:100px;\">\n    <img src=\"http://localhost:1880/bluearrow0_y.png\" style=\"position:absolute; left:1204px; top:421px; width:10px; height:10px;\"> -->\n    <!-- <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:330px; top:315px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:343px; top:422px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:492px; top:380px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:547px; top:293px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:547px; top:191px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1025px; top:304px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1216px; top:382px; width:20px; height:20px;\"> -->\n    <p style=\"position:absolute; left:315px; top:215px; color:black;\"><b>RDF</b></p>\n    <p style=\"position:absolute; left:529px; top:181px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:529px; top:323px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:400px; top:566px; color:black;\"><b>SF</b></p>\n    <p style=\"position:absolute; left:530px; top:622px; color:black;\"><b>Cyclone</b></p>\n    <p style=\"position:absolute; left:1240px; top:412px; color:black;\"><b>Fan</b></p>\n\n    <div style=\"position:absolute; left:1200px; top:30px; color:#00508a; font-size:30px;\"><b><u>Spinning-2</u></b></div>\n    <p style=\"position:absolute; left:660px; top:57px; color:black;\"><b>Exhaust</b></p>\n    <p style=\"position:absolute; left:765px; top:65px; color:black;\"><b>Fresh Intake</b></p>\n    <p style=\"position:absolute; left:702px; top:235px; color:black;\"><b>Recirculation</b></p>\n    <p style=\"position:absolute; left:980px; top:395px; color:black;\"><b>Air Washer</b></p>\n\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:228px; top:269px; width:18px; height:19px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:412px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:695px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:855px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_b.png\" style=\"position:absolute; left:327px; top:425px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:458px; top:534px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:340px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:480px; width:16px; height:17px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:355px; top:332px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:595px; top:445px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:580px; top:333px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:578px; top:190px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:605px; top:190px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1087px; top:357px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1335px; top:450px; width:20px; height:20px;\">\n    <!-- <h1 style=\"position:absolute; left:1050px; top:25px; color:black;\">Spinning-2</h1>\n    <p style=\"position:absolute; left:665px; top:80px; color:black;\">Exhaust</p>\n    <p style=\"position:absolute; left:752px; top:80px; color:black;\">Fresh Intake</p>\n    <p style=\"position:absolute; left:699px; top:215px; color:black;\">Recirculation</p>\n    <h3 style=\"position:absolute; left:810px; top:394px; color:black;\">Winding</h3>\n\n    <div\n        style=\"position:absolute; left:1100px; top:478px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:268px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:479px; top:261px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1061px; top:305px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1125px; top:204px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1108px; top:392px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:489px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1172px; top:533px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1115px; top:484px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1130px; top:528px;\"><b>°C</b></p>\n\n    <p style=\"position:absolute; left:655px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:828px; top:129px;\">0</p>\n    <p style=\"position:absolute; left:780px; top:289px;\">0</p> -->\n\n    <div\n        style=\"position:absolute; left:1215px; top:526px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:362px; top:235px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:498px; top:292px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1120px; top:355px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1213px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1220px; top:475px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:539px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:583px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1224px; top:533px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1238px; top:580px;\"><b>°C</b></p>\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 140px; margin-top: 100px; transform-origin: top:150px; left:400px; display: none;\">\n    <!-- style=\"transform: scale(0.9); margin-left: 100px; margin-top: 50px; transform-origin: top:150px; left:400px; width: 90%; height: 800%; display: none;\"\n    <img src=\"http://localhost:1880/red_flow.png\" style=\"position:absolute; left:152px; top:349.5px\">\n    <img src=\"http://localhost:1880/RDF.png\" style=\"position:absolute; left:200px; top:341px\">\n    <img src=\"http://localhost:1880/green_flow.png\"style=\"position:absolute; left:208px; top:187px\">\n    <img src=\"http://localhost:1880/SF_flow.png\"style=\"position:absolute; left:239px; top:173px\">\n    <img src=\"http://localhost:1880/red_flow2.png\"style=\"position:absolute; left:265px; top:353px\">\n    <img src=\"http://localhost:1880/fan2.png\"style=\"position:absolute; left:333px; top:322px\">\n    <img src=\"http://localhost:1880/red_t-flow.png\"style=\"position:absolute; left:416px; top:346px\">\n    <img src=\"http://localhost:1880/upper1.png\"style=\"position:absolute; left:465.5px; top:253px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:455px; top:228px\">\n    <img src=\"http://localhost:1880/upper_arrow.png\"style=\"position:absolute; left:478px; top:185px\">\n    <img src=\"http://localhost:1880/right_rad.png\"style=\"position:absolute; left:538px; top:313.3px\">\n    <img src=\"http://localhost:1880/green_line.png\"style=\"position:absolute; left:592px; top:245px\">\n    <img src=\"http://localhost:1880/small.png\"style=\"position:absolute; left:600px; top:355.5px\">\n    <img src=\"http://localhost:1880/RAD.png\"style=\"position:absolute; left:575px; top:386px\">\n    <img src=\"http://localhost:1880/downward_flow.png\"style=\"position:absolute; left:473px; top:436px\">\n    <img src=\"http://localhost:1880/below_flow2.png\"style=\"position:absolute; left:648px; top:263.5px\">\n    <img src=\"http://localhost:1880/below3_flow.png\"style=\"position:absolute; left:643.8px; top:450px\"> -->\n    <!-- <h1 style=\"position:absolute; left:1050px; top:70px; color:black;\">Spinning-1</h1> -->\n    <img src=\"http://localhost:1880/spinning200.png\" style=\"position:fixed; width: 1230px; height: 600px;\">\n</div>\n\n\n<!-- <div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n        var container = document.getElementById(submoduleContainerId);\n        var isDisplayed = container.style.display === 'block';\n        document.querySelectorAll('.submodule-container').forEach(function (sub) {\n            sub.style.display = 'none';\n        });\n        container.style.display = isDisplayed ? 'none' : 'block';\n\n        if (!isDisplayed) {\n            var submodules;\n            switch (submoduleContainerId) {\n                // case 'homeSubmodules':\n                //     submodules = ['Dashboard'];\n                //     break;\n                case 'departmentsSubmodules':\n                    submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                    break;\n                // case 'departmentsSubmodules':\n                //     submodules = ['Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                //     break;\n                case 'settingsSubmodules':\n                    submodules = [\n                        'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                        'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                        'UPSS', 'Pump Min Set'\n                    ];\n                    break;\n                case 'reportsSubmodules':\n                    submodules = ['Trends', 'Report'];\n                    break;\n            }\n            container.innerHTML = ''; // Clear previous submodules\n            submodules.forEach(function (submodule) {\n                var btn = document.createElement('button');\n                btn.className = 'submodule-button';\n                btn.innerHTML = submodule;\n                btn.onclick = function () {\n                    // Hide all divs initially\n                    document.getElementById('spinning1Div').style.display = 'none';\n                    document.getElementById('spinning2Div').style.display = 'none';\n                    document.getElementById('custominputdiv').style.display = 'none';\n                    // document.getElementById('chartdiv').style.display = 'none';\n\n                    if (submodule === 'Spinning 1') {\n                        document.getElementById('spinning1Div').style.display = 'block';\n                    } else if (submodule === 'Spinning 2') {\n                        document.getElementById('spinning2Div').style.display = 'block';\n                    } else if (submodule === 'Trends') {\n                        window.open('http://localhost:3000/dashboards', '_blank');\n                    } else if (submodule === 'Report') {\n                        window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                    } else if (submodule === 'Set Point') {\n                        document.getElementById('custominputdiv').style.display = 'block';\n                    }\n                    // } else if (submodule === 'Dashboard') {\n                    //     document.getElementById('chartdiv').style.display = 'block';\n                    // }\n                };\n                container.appendChild(btn);\n            });\n        }\n    }\n</script> -->\n\n<!-- Modal Background -->\n<div id=\"myModal\" class=\"modal\" style=\"display: none;\">\n    <div class=\"modal-content\">\n        <span class=\"close\">&times;</span>\n        <h2>Set Point</h2>\n        <div id=\"custominputdiv\">\n            <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n            <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n            <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n        </div>\n    </div>\n</div>\n\n<style>\n    .modal {\n        display: none;\n        /* Hidden by default */\n        position: fixed;\n        /* Stay in place */\n        z-index: 1;\n        /* Sit on top */\n        left: 0;\n        top: 0;\n        width: 100%;\n        /* Full width */\n        height: 100%;\n        /* Full height */\n        overflow: auto;\n        /* Enable scroll if needed */\n        background-color: rgb(0, 0, 0);\n        /* Fallback color */\n        background-color: rgba(0, 0, 0, 0.4);\n        /* Black w/ opacity */\n    }\n\n    .modal-content {\n        background-color: #fefefe;\n        margin: 15% auto;\n        /* 15% from the top and centered */\n        padding: 20px;\n        border: 1px solid #888;\n        width: 80%;\n        /* Could be more or less, depending on screen size */\n    }\n\n    .close {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n    }\n\n    .close:hover,\n    .close:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n    }\n</style>\n\n<script>\n    // Get the modal\n    var modal = document.getElementById(\"myModal\");\n\n    // Get the button that opens the modal\n    var btn = document.querySelector('button.submodule-button[data-submodule=\"Set Point\"]');\n\n    // Get the <span> element that closes the modal\n    var span = document.getElementsByClassName(\"close\")[0];\n\n    // When the user clicks on the button, open the modal \n    btn.onclick = function() {\n        modal.style.display = \"block\";\n    }\n\n    // When the user clicks on <span> (x), close the modal\n    span.onclick = function() {\n        modal.style.display = \"none\";\n    }\n\n    // When the user clicks anywhere outside of the modal, close it\n    window.onclick = function(event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    }\n\n    // Your existing code for handling button click inside the modal\n    (function(scope) {\n        document.getElementById('updateValueButton').addEventListener('click', function() {\n            var value = document.getElementById('customValueInput').value;\n            if (value !== '') {\n                scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n            }\n        });\n    })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'departmentsSubmodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Trends', 'Report'];\n                break;\n        }\n        container.innerHTML = ''; // Clear previous submodules\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.dataset.submodule = submodule;\n            btn.innerHTML = submodule;\n            btn.onclick = function () {\n                // Hide all divs initially\n                document.getElementById('spinning1Div').style.display = 'none';\n                document.getElementById('spinning2Div').style.display = 'none';\n                // document.getElementById('chartdiv').style.display = 'none';\n\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                } else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n                } else if (submodule === 'Trends') {\n                    window.open('http://localhost:3000/dashboards', '_blank');\n                } else if (submodule === 'Report') {\n                    window.open('http://127.0.0.1:5000/userlogin', '_blank');\n                } else if (submodule === 'Set Point') {\n                    modal.style.display = 'block';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 440,
        "wires": [
            [
                "45ca2f0c36e4ba82",
                "11c4e2123dff0fa5"
            ]
        ]
    },
    {
        "id": "9d95a7bbe5effd21",
        "type": "inject",
        "z": "99329f7d1d96a483",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "f9ba9490a085fb3f"
            ]
        ]
    },
    {
        "id": "f9ba9490a085fb3f",
        "type": "function",
        "z": "99329f7d1d96a483",
        "name": "function 33",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 200,
        "wires": [
            [
                "f7d27b030eed4529"
            ],
            [
                "f7d27b030eed4529"
            ],
            [
                "f7d27b030eed4529"
            ],
            [
                "f7d27b030eed4529"
            ],
            [
                "f7d27b030eed4529"
            ],
            [
                "f7d27b030eed4529"
            ]
        ]
    },
    {
        "id": "8dc60b9e73c35ca5",
        "type": "function",
        "z": "99329f7d1d96a483",
        "name": "function 34",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 200,
        "wires": [
            [
                "5fc79a819ddda524"
            ],
            [
                "5fc79a819ddda524"
            ],
            [
                "5fc79a819ddda524"
            ],
            [
                "5fc79a819ddda524"
            ],
            [
                "5fc79a819ddda524"
            ],
            [
                "5fc79a819ddda524"
            ]
        ]
    },
    {
        "id": "f7d27b030eed4529",
        "type": "OpcUa-Client",
        "z": "99329f7d1d96a483",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 200,
        "wires": [
            [
                "8dc60b9e73c35ca5"
            ],
            []
        ]
    },
    {
        "id": "6fe9e364a412c7e1",
        "type": "ui_template",
        "z": "99329f7d1d96a483",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "6d2994e86da4d3ed",
        "type": "ui_numeric",
        "z": "99329f7d1d96a483",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 310,
        "y": 360,
        "wires": [
            [
                "5fc79a819ddda524"
            ]
        ]
    },
    {
        "id": "5c4af661acf90941",
        "type": "debug",
        "z": "99329f7d1d96a483",
        "name": "debug 22",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 440,
        "wires": []
    },
    {
        "id": "38b167ed66cbebcd",
        "type": "OpcUa-Client",
        "z": "99329f7d1d96a483",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 760,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5fc79a819ddda524",
        "type": "ui_template",
        "z": "99329f7d1d96a483",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #00508a;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid black;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #005fa3;\n        }\n\n        .submodule-container {\n            display: none;\n            background-color: #00508a;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #005fa3;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n        }\n\n        .fa-triangle-exclamation {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-gear {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-file {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home</button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments</button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms</button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings</button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics</button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    \n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #00508a;\n            display: flex;\n            justify-content: space-between;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            border-right: 0.5px solid black;\n            border-bottom: 0.5px solid black;\n            padding-right: 50px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid black;\n        }\n\n        .company-logo {\n            margin-top: 8px;\n            height: 47px;\n            width: 47px;\n            background: white;\n            margin-left: 30px;\n            border-radius: 50px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 16px;\n            margin-right: -10px;\n            padding-top: 10px;\n        }\n    </style>\n</head>\n\n</html>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n        </div>\n        <div class=\"company-name\"\n            style=\"position: absolute; top: 11px; font-size:30px; font-weight: bold; left: 520px;\">\n            <span>TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"time\"></span><br>\n            <span id=\"date\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const now = new Date();\n\n            const timeString = now.toLocaleTimeString('en-US', { \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit', \n                hour12: true \n            });\n\n            const day = String(now.getDate()).padStart(2, '0');\n            const month = String(now.getMonth() + 1).padStart(2, '0'); \n            const year = now.getFullYear();\n            const weekday = now.toLocaleDateString('en-US', { weekday: 'long' });\n\n            document.getElementById('time').textContent = `Time : ${timeString}`;\n            document.getElementById('date').textContent = `Date : ${day}/${month}/${year}`;\n        }\n\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:30px; top: 200px; left:100px; width: 100%; height: 100%; display: none;\">\n\n    <div\n        style=\"position: absolute; top: 15px; left: 130px; width: 1260px; height: 630px; border: 1px solid #C5C6D0; border-radius: 20px;\">\n    </div>\n\n    <img src=\"http://localhost:1880/rdf00.gif\" style=\"position:absolute; left:260px; top:220px; width:150px; height:120px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:195px; top:275px; width:80px; height:7px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:367px; top:500px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:346px; top:500px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/sf00.gif\" style=\"position:absolute; left:380px; top:518px; width:50px; height:50px; border-radius: 50px; border: 1px solid black;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:332px; top:319px; width:6px; height:220px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:332px; top:539px; width:47px; height:6px;\">\n    <img src=\"http://localhost:1880/icyclone000.jpg\" style=\"position:absolute; left:502px; top:445px; width:80px; height:180px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:432px; top:539px; width:70px; height:6px;\">\n\n\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:395px; top:305px; width:50px; height:6px;\">\n    <!-- <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:241px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:311px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:208px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:320px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <!-- <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:237px; width:6px; height:76px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:313px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:440px; top:305px; width:415px; height:6px;\">\n    <img src=\"http://localhost:1880/exhaust000.gif\" style=\"position:absolute; left:657px; top:103px; width:45px; height:25px;\">\n    <img src=\"http://localhost:1880/intake000.gif\" style=\"position:absolute; left:795px; top:95px; width:35px; height:30px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:678px; top:129px; width:6px; height:175px;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:809px; top:130px; width:6px; height:176px;\">\n    <img src=\"http://localhost:1880/airwasher2000.png\" style=\"position:absolute; left:943px; top:242px; width:270px; height:150px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:809px; top:305px; width:155px; height:6px;\">\n    <img src=\"http://localhost:1880/blueline00_x.png\" style=\"position:absolute; left:1192px; top:295px; width:110px; height:6px;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:1273px; top:391px; width:43px; height:43px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:295px; width:6px; height:97px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:454px; width:6px; height:85px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1253px; top:238px; width:6px; height:63px;\">\n\n    <img src=\"http://localhost:1880/recirculation00.gif\" style=\"position:absolute; left:715px; top:266px; width:78px; height:85px;\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:782px; top:130px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:652px; top:128px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_y.png\" style=\"position:absolute; left:739.5px; top:286px; width:27px; height:44px; border: 1px solid black; padding: -2px;\">\n\n    <p style=\"position:absolute; left:315px; top:215px; color:black;\"><b>RDF</b></p>\n    <p style=\"position:absolute; left:529px; top:181px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:529px; top:380px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:400px; top:566px; color:black;\"><b>SF</b></p>\n    <p style=\"position:absolute; left:530px; top:622px; color:black;\"><b>Cyclone</b></p>\n    <p style=\"position:absolute; left:1240px; top:412px; color:black;\"><b>Fan</b></p>\n\n    <div style=\"position:absolute; left:1200px; top:30px; color:#00508a; font-size:30px;\"><b><u>Spinning-2</u></b></div>\n    <p style=\"position:absolute; left:657px; top:68px; color:black;\"><b>Exhaust</b></p>\n    <p style=\"position:absolute; left:765px; top:65px; color:black;\"><b>Fresh Intake</b></p>\n    <p style=\"position:absolute; left:702px; top:235px; color:black;\"><b>Recirculation</b></p>\n    <p style=\"position:absolute; left:980px; top:395px; color:black;\"><b>Air Washer</b></p>\n\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:228px; top:269px; width:18px; height:19px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:450px; top:299.5px; width:16px; height:17px;\">\n    <!-- <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:372px; width:16px; height:17px;\"> -->\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:610px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:695px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:855px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_b.png\" style=\"position:absolute; left:327px; top:425px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:458px; top:534px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:340px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:480px; width:16px; height:17px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:355px; top:332px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:376px; top:332px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:595px; top:445px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:616px; top:445px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:580px; top:333px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:601px; top:333px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:578px; top:190px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:599px; top:190px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1087px; top:357px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1108px; top:357px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1335px; top:450px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1356px; top:450px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n\n    <div\n        style=\"position:absolute; left:1215px; top:526px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:362px; top:235px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:500px; top:280px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1140px; top:355px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1213px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1220px; top:475px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:539px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:583px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1224px; top:533px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1238px; top:580px;\"><b>°C</b></p>\n\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 140px; margin-top: 100px; top:150px; left:400px; display: none;\">\n    <img src=\"http://localhost:1880/spinning200.png\" style=\"position:fixed; width: 1230px; height: 600px;\">\n</div>\n\n<!-- <div>\n    <iframe id=\"trendsIframe\" src=\"http://localhost:3000/dashboards\"\n        style=\"display: none;\"></iframe>\n</div> -->\n\n<div>\n    <iframe id=\"reportIframe\" src=\"http://127.0.0.1:5000\"\n        style=\"position: fixed; top: 65px; left: 145px; width: 89%; height: 90%; border: none; display: none;\"></iframe>\n</div>\n\n<div id=\"myModal\" class=\"modal\" style=\"display: none;\">\n    <div class=\"modal-content\">\n        <span class=\"close\">&times;</span>\n        <h2>Set Point</h2>\n        <div id=\"custominputdiv\">\n            <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n            <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n            <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n        </div>\n    </div>\n</div>\n\n<style>\n    .modal {\n        display: none;\n        position: fixed;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        background-color: rgb(0, 0, 0);\n        background-color: rgba(0, 0, 0, 0.4);\n    }\n\n    .modal-content {\n        background-color: #fefefe;\n        margin: 15% auto;\n        padding: 20px;\n        border: 1px solid #888;\n        width: 80%;\n    }\n\n    .close {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n    }\n\n    .close:hover,\n    .close:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n    }\n</style>\n\n<script>\n    var modal = document.getElementById(\"myModal\");\n    var btn = document.querySelector('button.submodule-button[data-submodule=\"Set Point\"]');\n    var span = document.getElementsByClassName(\"close\")[0];\n    btn.onclick = function() {\n        modal.style.display = \"block\";\n    }\n\n    span.onclick = function() {\n        modal.style.display = \"none\";\n    }\n\n    window.onclick = function(event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    }\n\n    (function(scope) {\n        document.getElementById('updateValueButton').addEventListener('click', function() {\n            var value = document.getElementById('customValueInput').value;\n            if (value !== '') {\n                scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n            }\n        });\n    })(scope);\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'departmentsSubmodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Trends', 'Report', 'Chart'];\n                break;\n        }\n        container.innerHTML = '';\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.dataset.submodule = submodule;\n            btn.innerHTML = submodule;\n            \n            btn.onclick = function () {\n                document.getElementById('spinning1Div').style.display = 'none';\n                document.getElementById('spinning2Div').style.display = 'none';\n\n                // var iframe = document.getElementById('trendsIframe');\n                // iframe.style.display = 'none';\n\n                var iframe = document.getElementById('reportIframe');\n                iframe.style.display = 'none';\n\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                    \n                } else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n\n                } \n                // else if (submodule === 'Trends') {\n                // iframe.style.display = 'block';\n                // iframe.src = 'http://localhost:3000/dashboards';\n\n                else if (submodule === 'Trends') {\n                window.open('http://localhost:3000/dashboards', '_blank');\n                }\n                else if (submodule === 'Report') {\n                iframe.style.display = 'block';\n                iframe.src = 'http://127.0.0.1:5000';\n\n                } else if (submodule === 'Set Point') {\n                    modal.style.display = 'block';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 360,
        "wires": [
            [
                "5c4af661acf90941",
                "38b167ed66cbebcd"
            ]
        ]
    },
    {
        "id": "8620271767ea0e64",
        "type": "inject",
        "z": "50a5bbfb6f4b46db",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "cc2a48478a7a02a4"
            ]
        ]
    },
    {
        "id": "cc2a48478a7a02a4",
        "type": "function",
        "z": "50a5bbfb6f4b46db",
        "name": "function 35",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 220,
        "wires": [
            [
                "76a7bcd8f3d645b5"
            ],
            [
                "76a7bcd8f3d645b5"
            ],
            [
                "76a7bcd8f3d645b5"
            ],
            [
                "76a7bcd8f3d645b5"
            ],
            [
                "76a7bcd8f3d645b5"
            ],
            [
                "76a7bcd8f3d645b5"
            ]
        ]
    },
    {
        "id": "639d64528478d2ae",
        "type": "function",
        "z": "50a5bbfb6f4b46db",
        "name": "function 36",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 220,
        "wires": [
            [
                "8d474b8eb0de76ed"
            ],
            [
                "8d474b8eb0de76ed"
            ],
            [
                "8d474b8eb0de76ed"
            ],
            [
                "8d474b8eb0de76ed"
            ],
            [
                "8d474b8eb0de76ed"
            ],
            [
                "8d474b8eb0de76ed"
            ]
        ]
    },
    {
        "id": "76a7bcd8f3d645b5",
        "type": "OpcUa-Client",
        "z": "50a5bbfb6f4b46db",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 520,
        "y": 220,
        "wires": [
            [
                "639d64528478d2ae"
            ],
            []
        ]
    },
    {
        "id": "1b5976c8db034a85",
        "type": "ui_template",
        "z": "50a5bbfb6f4b46db",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "6e8795341c461f0d",
        "type": "ui_numeric",
        "z": "50a5bbfb6f4b46db",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 310,
        "y": 380,
        "wires": [
            [
                "8d474b8eb0de76ed"
            ]
        ]
    },
    {
        "id": "d9c028cd11f3bd3a",
        "type": "debug",
        "z": "50a5bbfb6f4b46db",
        "name": "debug 23",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 460,
        "wires": []
    },
    {
        "id": "0e67229769425b60",
        "type": "OpcUa-Client",
        "z": "50a5bbfb6f4b46db",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 760,
        "y": 380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8d474b8eb0de76ed",
        "type": "ui_template",
        "z": "50a5bbfb6f4b46db",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #00508a;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid black;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #005fa3;\n        }\n\n        .submodule-container {\n            display: none;\n            background-color: #00508a;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #005fa3;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n        }\n\n        .fa-triangle-exclamation {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-gear {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-file {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home</button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments</button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms</button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings</button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics</button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    \n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #00508a;\n            display: flex;\n            justify-content: space-between;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            border-right: 0.5px solid black;\n            border-bottom: 0.5px solid black;\n            padding-right: 50px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid black;\n        }\n\n        .company-logo {\n            margin-top: 8px;\n            height: 47px;\n            width: 47px;\n            background: white;\n            margin-left: 30px;\n            border-radius: 50px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 16px;\n            margin-right: -10px;\n            padding-top: 10px;\n        }\n    </style>\n</head>\n\n</html>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n        </div>\n        <div class=\"company-name\"\n            style=\"position: absolute; top: 11px; font-size:30px; font-weight: bold; left: 520px;\">\n            <span>TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"time\"></span><br>\n            <span id=\"date\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const now = new Date();\n\n            const timeString = now.toLocaleTimeString('en-US', { \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit', \n                hour12: true \n            });\n\n            const day = String(now.getDate()).padStart(2, '0');\n            const month = String(now.getMonth() + 1).padStart(2, '0'); \n            const year = now.getFullYear();\n            const weekday = now.toLocaleDateString('en-US', { weekday: 'long' });\n\n            document.getElementById('time').textContent = `Time : ${timeString}`;\n            document.getElementById('date').textContent = `Date : ${day}/${month}/${year}`;\n        }\n\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:30px; top: 200px; left:100px; width: 100%; height: 100%; display: none;\">\n\n    <div\n        style=\"position: absolute; top: 15px; left: 130px; width: 1260px; height: 630px; border: 2px solid #C5C6D0; border-radius: 20px;\">\n    </div>\n\n    <img src=\"http://localhost:1880/rdf00.gif\" style=\"position:absolute; left:260px; top:220px; width:150px; height:120px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:195px; top:275px; width:80px; height:7px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:367px; top:500px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:346px; top:500px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/sf00.gif\" style=\"position:absolute; left:380px; top:518px; width:50px; height:50px; border-radius: 50px; border: 1px solid black;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:332px; top:319px; width:6px; height:220px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:332px; top:539px; width:47px; height:6px;\">\n    <img src=\"http://localhost:1880/icyclone000.jpg\" style=\"position:absolute; left:502px; top:445px; width:80px; height:180px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:432px; top:539px; width:70px; height:6px;\">\n\n\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:395px; top:305px; width:50px; height:6px;\">\n    <!-- <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:241px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:311px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:208px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:320px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <!-- <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:237px; width:6px; height:76px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:313px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:440px; top:305px; width:415px; height:6px;\">\n    <img src=\"http://localhost:1880/exhaust000.gif\" style=\"position:absolute; left:657px; top:103px; width:45px; height:25px;\">\n    <img src=\"http://localhost:1880/intake000.gif\" style=\"position:absolute; left:795px; top:95px; width:35px; height:30px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:678px; top:129px; width:6px; height:175px;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:809px; top:130px; width:6px; height:176px;\">\n    <img src=\"http://localhost:1880/airwasher000.png\" style=\"position:absolute; left:923px; top:250px; width:270px; height:150px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:809px; top:305px; width:151px; height:6px;\">\n    <img src=\"http://localhost:1880/blueline00_x.png\" style=\"position:absolute; left:1194px; top:295px; width:108px; height:6px;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:1273px; top:391px; width:43px; height:43px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:295px; width:6px; height:97px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:454px; width:6px; height:85px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1253px; top:238px; width:6px; height:63px;\">\n\n    <img src=\"http://localhost:1880/recirculation00.gif\" style=\"position:absolute; left:715px; top:266px; width:78px; height:85px;\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:782px; top:130px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:652px; top:128px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_y.png\" style=\"position:absolute; left:739.5px; top:286px; width:27px; height:44px; border: 1px solid black; padding: -2px;\">\n\n    <p style=\"position:absolute; left:315px; top:215px; color:black;\"><b>RDF</b></p>\n    <p style=\"position:absolute; left:529px; top:181px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:529px; top:380px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:400px; top:566px; color:black;\"><b>SF</b></p>\n    <p style=\"position:absolute; left:530px; top:622px; color:black;\"><b>Cyclone</b></p>\n    <p style=\"position:absolute; left:1240px; top:412px; color:black;\"><b>Fan</b></p>\n\n    <div style=\"position:absolute; left:1200px; top:30px; color:#00508a; font-size:30px;\"><b><u>Spinning-2</u></b></div>\n    <p style=\"position:absolute; left:657px; top:68px; color:black;\"><b>Exhaust</b></p>\n    <p style=\"position:absolute; left:765px; top:65px; color:black;\"><b>Fresh Intake</b></p>\n    <p style=\"position:absolute; left:701px; top:235px; color:black;\"><b>Recirculation</b></p>\n    <p style=\"position:absolute; left:970px; top:399px; color:black;\"><b>Air Washer</b></p>\n\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:228px; top:269px; width:18px; height:19px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:450px; top:299.5px; width:16px; height:17px;\">\n    <!-- <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:372px; width:16px; height:17px;\"> -->\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:610px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:695px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:855px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_b.png\" style=\"position:absolute; left:327px; top:425px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:458px; top:534px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:340px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:480px; width:16px; height:17px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:355px; top:332px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:376px; top:332px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:595px; top:445px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:616px; top:445px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:580px; top:333px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:601px; top:333px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:578px; top:190px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:599px; top:190px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1087px; top:357px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1108px; top:357px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1335px; top:450px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1356px; top:450px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n\n    <div\n        style=\"position:absolute; left:1215px; top:526px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:362px; top:235px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:500px; top:280px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1140px; top:355px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1213px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1220px; top:475px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:539px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:583px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1224px; top:533px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1238px; top:580px;\"><b>°C</b></p>\n\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 140px; margin-top: 100px; top:150px; left:400px; display: none;\">\n    <img src=\"http://localhost:1880/spinning200.png\" style=\"position:fixed; width: 1230px; height: 600px;\">\n</div>\n\n<!-- <div>\n    <iframe id=\"trendsIframe\" src=\"http://localhost:3000/dashboards\"\n        style=\"display: none;\"></iframe>\n</div> -->\n\n<div>\n    <iframe id=\"reportIframe\" src=\"http://127.0.0.1:5000\"\n        style=\"position: fixed; top: 65px; left: 145px; width: 89%; height: 90%; border: none; display: none;\"></iframe>\n</div>\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<style>\n    .modal {\n        display: none;\n        position: fixed;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        background-color: rgb(0, 0, 0);\n        background-color: rgba(0, 0, 0, 0.4);\n    }\n\n    .modal-content {\n        background-color: #fefefe;\n        margin: 15% auto;\n        padding: 20px;\n        border: 1px solid #888;\n        width: 80%;\n    }\n\n    .close {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n    }\n\n    .close:hover,\n    .close:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n    }\n</style>\n\n<script>\n    var modal = document.getElementById(\"myModal\");\n    var btn = document.querySelector('button.submodule-button[data-submodule=\"Set Point\"]');\n    var span = document.getElementsByClassName(\"close\")[0];\n    btn.onclick = function() {\n        modal.style.display = \"block\";\n    }\n\n    span.onclick = function() {\n        modal.style.display = \"none\";\n    }\n\n    window.onclick = function(event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    }\n\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'departmentsSubmodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Trends', 'Report', 'Chart'];\n                break;\n        }\n        container.innerHTML = '';\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.dataset.submodule = submodule;\n            btn.innerHTML = submodule;\n            \n            btn.onclick = function () {\n                document.getElementById('spinning1Div').style.display = 'none';\n                document.getElementById('spinning2Div').style.display = 'none';\n                document.getElementById('custominputdiv').style.display = 'none';\n\n                // var iframe = document.getElementById('trendsIframe');\n                // iframe.style.display = 'none';\n\n                var iframe = document.getElementById('reportIframe');\n                iframe.style.display = 'none';\n\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                    \n                } else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n\n                } \n                // else if (submodule === 'Trends') {\n                // iframe.style.display = 'block';\n                // iframe.src = 'http://localhost:3000/dashboards';\n\n                else if (submodule === 'Trends') {\n                window.open('http://localhost:3000/dashboards', '_blank');\n                }\n                else if (submodule === 'Report') {\n                iframe.style.display = 'block';\n                iframe.src = 'http://127.0.0.1:5000';\n\n                } else if (submodule === 'Set Point') {\n                document.getElementById('custominputdiv').style.display = 'block';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 380,
        "wires": [
            [
                "d9c028cd11f3bd3a",
                "0e67229769425b60"
            ]
        ]
    },
    {
        "id": "13a5d27e2ad67fd3",
        "type": "inject",
        "z": "26f3b45d2ead1e40",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 200,
        "wires": [
            [
                "0edc7d292ee11f5a"
            ]
        ]
    },
    {
        "id": "0edc7d292ee11f5a",
        "type": "function",
        "z": "26f3b45d2ead1e40",
        "name": "function 37",
        "func": "// msg1={};\n// msg2={};\n// msg3={};\n// msg4={};\n// msg5={};\n// msg6={};\n\n// msg1.topic=\"ns=3;i=1008;datatype=Double\";\n// msg2.topic=\"ns=3;i=1003;datatype=Double\";\n// msg3.topic=\"ns=3;i=1004;datatype=Double\";\n// msg4.topic=\"ns=3;i=1005;datatype=Double\";\n// msg5.topic=\"ns=3;i=1006;datatype=Double\";\n// msg6.topic=\"ns=3;i=1007;datatype=Double\";\n\n// return [msg1,msg2,msg3,msg4,msg5,msg6];\n\n\nmsg1 = { topic: \"ns=3;i=1008;datatype=Double\" };\nmsg2 = { topic: \"ns=3;i=1003;datatype=Double\" };\nmsg3 = { topic: \"ns=3;i=1004;datatype=Double\" };\nmsg4 = { topic: \"ns=3;i=1005;datatype=Double\" };\nmsg5 = { topic: \"ns=3;i=1006;datatype=Double\" };\nmsg6 = { topic: \"ns=3;i=1007;datatype=Double\" };\nreturn [msg1, msg2, msg3, msg4, msg5, msg6];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 6,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 200,
        "wires": [
            [
                "7aeac56c75daeeea"
            ],
            [
                "7aeac56c75daeeea"
            ],
            [
                "7aeac56c75daeeea"
            ],
            [
                "7aeac56c75daeeea"
            ],
            [
                "7aeac56c75daeeea"
            ],
            [
                "7aeac56c75daeeea"
            ]
        ]
    },
    {
        "id": "855107ca989cbdbf",
        "type": "function",
        "z": "26f3b45d2ead1e40",
        "name": "function 38",
        "func": "// var previous = context.get(\"previous\") || {\n//     Counter: null,\n//     Random: null,\n//     Sawtooth: null,\n//     Sinusoid: null,\n//     Square: null,\n//     Triangle: null\n// };\n\n// var processedTopics = context.get(\"processedTopics\") || new Set();\n\n// // Function to round to 2 decimal places\n// function roundToTwo(value) {\n//     return Math.round(value * 100) / 100;\n// }\n\n// if (msg.topic == \"ns=3;i=1008\") {\n//     previous.Counter = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1003\") {\n//     previous.Random = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1004\") {\n//     previous.Sawtooth = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1005\") {\n//     previous.Sinusoid = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1006\") {\n//     previous.Square = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n// if (msg.topic == \"ns=3;i=1007\") {\n//     previous.Triangle = roundToTwo(msg.payload);\n//     processedTopics.add(msg.topic);\n// }\n\n// context.set(\"previous\", previous);\n\n// // Set a delay of 100ms to allow all messages to be processed\n// // if (!context.get(\"timer\")) {\n// //     context.set(\"timer\", true);\n// //     setTimeout(function() {\n// //         node.send({ payload: previous });\n// //         context.set(\"timer\", false);\n// //     }, 100);\n// // }\n\n// // msg.payload = {\n// //   Counter: previous.Counter,\n// //   Random: previous.Random,\n// //   Sawtooth: previous.Sawtooth,\n// //   Sinusoid: previous.Sinusoid,\n// //   Square: previous.Square,\n// //   Triangle: previous.Triangle\n// // };\n// // return msg;\n\n// // Check if all topics have been processed\n// if (processedTopics.size === 6) {\n//     // Send the combined message\n//     node.send({ payload: previous });\n//     // Reset the processed topics for the next batch\n//     context.set(\"processedTopics\", new Set());\n// } else {\n//     // Update the set in the context\n//     context.set(\"processedTopics\", processedTopics);\n// }\n\n// // Prevent further processing of the message\n// return null;\n\nvar previous = context.get(\"previous\") || {\n    Counter: null,\n    Random: null,\n    Sawtooth: null,\n    Sinusoid: null,\n    Square: null,\n    Triangle: null\n};\n\nvar processedTopics = context.get(\"processedTopics\") || new Set();\n\nfunction roundToTwo(value) {\n    return Math.round(value * 100) / 100;\n}\n\nswitch (msg.topic) {\n    case \"ns=3;i=1008\":\n        previous.Counter = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1003\":\n        previous.Random = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1004\":\n        previous.Sawtooth = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1005\":\n        previous.Sinusoid = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1006\":\n        previous.Square = roundToTwo(msg.payload);\n        break;\n    case \"ns=3;i=1007\":\n        previous.Triangle = roundToTwo(msg.payload);\n        break;\n}\n\nprocessedTopics.add(msg.topic);\ncontext.set(\"previous\", previous);\ncontext.set(\"processedTopics\", processedTopics);\n\nif (processedTopics.size === 6) {\n    node.send({ payload: previous });\n    context.set(\"processedTopics\", new Set());\n}\n\nreturn null;\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 200,
        "wires": [
            [
                "b97c17bc725d3746"
            ],
            [
                "b97c17bc725d3746"
            ],
            [
                "b97c17bc725d3746"
            ],
            [
                "b97c17bc725d3746"
            ],
            [
                "b97c17bc725d3746"
            ],
            [
                "b97c17bc725d3746"
            ]
        ]
    },
    {
        "id": "7aeac56c75daeeea",
        "type": "OpcUa-Client",
        "z": "26f3b45d2ead1e40",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "read",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 560,
        "y": 200,
        "wires": [
            [
                "855107ca989cbdbf"
            ],
            []
        ]
    },
    {
        "id": "4ce90bf58a42db72",
        "type": "ui_template",
        "z": "26f3b45d2ead1e40",
        "group": "fa8a5e7250602190",
        "name": "Custom numeric",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-numeric {\n        display: none;\n        visibility: hidden;\n        /* Ensure it doesn't occupy space */\n        height: 0;\n        width: 0;\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "a61cbc7af8874a45",
        "type": "ui_numeric",
        "z": "26f3b45d2ead1e40",
        "name": "",
        "label": "VAR-1",
        "tooltip": "",
        "group": "",
        "order": 0,
        "width": 6,
        "height": 3,
        "wrap": false,
        "passthru": true,
        "topic": "ns=3;i=1008;datatype=Double",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "className": "custom-numeric",
        "x": 350,
        "y": 360,
        "wires": [
            [
                "b97c17bc725d3746"
            ]
        ]
    },
    {
        "id": "8d2ae9ce6bb9c4f5",
        "type": "debug",
        "z": "26f3b45d2ead1e40",
        "name": "debug 24",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 440,
        "wires": []
    },
    {
        "id": "7f323572bfdafc4d",
        "type": "OpcUa-Client",
        "z": "26f3b45d2ead1e40",
        "endpoint": "4e4eadb3bf6acdfa",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "useTransport": false,
        "maxChunkCount": 1,
        "maxMessageSize": 8192,
        "receiveBufferSize": 8192,
        "sendBufferSize": 8192,
        "name": "",
        "x": 800,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b97c17bc725d3746",
        "type": "ui_template",
        "z": "26f3b45d2ead1e40",
        "group": "fa8a5e7250602190",
        "name": "",
        "order": 1,
        "width": "25",
        "height": "12",
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Sidebar with Dropdown Arrow Icons</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, sans-serif;\n        }\n\n        html,\n        body {\n            height: 100%;\n        }\n\n        .sidebar {\n            position: fixed;\n            width: 150px;\n            height: 90%;\n            top: 45px;\n            left: -2px;\n            background-color: #00508a;\n            padding-top: 20px;\n            color: white;\n        }\n\n        .module-button {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 15px;\n            padding-top: 12px;\n            padding-bottom: 12px;\n            text-align: left;\n            border: none;\n            outline: none;\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: bold;\n            transition: background-color 0.3s ease;\n            border-bottom: 0.2px solid black;\n            position: relative;\n            font-style: Roboto Mono;\n        }\n\n        .module-button:hover {\n            background-color: #005fa3;\n        }\n\n        .submodule-container {\n            display: none;\n            background-color: #00508a;\n        }\n\n        .submodule-button {\n            width: 100%;\n            background-color: #00508a;\n            color: white;\n            padding-left: 32px;\n            padding-bottom: 10px;\n            padding-top: 10px;\n            font-weight: 600;\n            border: none;\n            outline: none;\n            font-size: 12px;\n            margin-bottom: 0px;\n            text-align: left;\n            cursor: pointer;\n        }\n\n        .submodule-button:hover {\n            background-color: #005fa3;\n        }\n\n        .fa-house {\n            font-size: 11px;\n            padding-right: 7px;\n            margin-top: -2px;\n        }\n\n        .fa-building {\n            font-size: 11px;\n            padding-right: 10px;\n        }\n\n        .fa-triangle-exclamation {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-gear {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n\n        .fa-file {\n            font-size: 11px;\n            padding-right: 7px;\n        }\n    </style>\n\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css\"\n        integrity=\"sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==\"\n        crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n</head>\n\n<body>\n    <div class=\"sidebar\">\n\n        <button id=\"home\" class=\"module-button\" onclick=\"toggleSubmodules('homeSubmodules', this)\"><i class=\"fa-solid fa-house\"></i> Home</button>\n        <div id=\"homeSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"departments\" class=\"module-button\" onclick=\"toggleSubmodules('departmentsSubmodules', this)\"><i class=\"fa-solid fa-building\"></i> Departments</button>\n        <div id=\"departmentsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"alarms\" class=\"module-button\" onclick=\"toggleSubmodules('alarmsSubmodules', this)\"><i class=\"fa-solid fa-triangle-exclamation\"></i> Alarms</button>\n        <div id=\"alarmsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"settings\" class=\"module-button\" onclick=\"toggleSubmodules('settingsSubmodules', this)\"><i class=\"fa-solid fa-gear\"></i> Settings</button>\n        <div id=\"settingsSubmodules\" class=\"submodule-container\"></div>\n\n        <button id=\"reports\" class=\"module-button\" onclick=\"toggleSubmodules('reportsSubmodules', this)\"><i class=\"fa-solid fa-file\"></i> Analytics</button>\n        <div id=\"reportsSubmodules\" class=\"submodule-container\"></div>\n    </div>\n\n    <script>\n        function toggleSubmodules(submoduleId, buttonElement) {\n            var dropdowns = document.querySelectorAll('.submodule-container');\n\n            dropdowns.forEach(function(dropdown) {\n                if (dropdown.id !== submoduleId) {\n                    dropdown.style.display = 'none';\n                    var btn = dropdown.previousElementSibling;\n                    if (btn) {\n                        btn.classList.remove('active');\n                    }\n                }\n            });\n\n            var submoduleContainer = document.getElementById(submoduleId);\n            if (submoduleContainer.style.display === 'block') {\n                submoduleContainer.style.display = 'none';\n                buttonElement.classList.remove('active');\n            } else {\n                submoduleContainer.style.display = 'block';\n                buttonElement.classList.add('active');\n            }\n\n            if (!submoduleContainer.hasChildNodes()) {\n                var submodules;\n                switch (submoduleId) {\n\n                    case 'departmentsSubmodules':\n                        submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                        break;\n                    \n                    case 'alarmsSubmodules':\n                        submodules = ['High Temperature', 'Low Pressure', 'System Error'];\n                        break;\n                    case 'settingsSubmodules':\n                        submodules = [\n                            'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                            'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                            'UPSS', 'Pump Min Set'\n                        ];\n                        break;\n                    case 'reportsSubmodules':\n                        submodules = ['Trends', 'Report'];\n                        break;\n                    default:\n                        submodules = [];\n                }\n\n                submodules.forEach(function(submoduleName) {\n                    var btn = document.createElement('button');\n                    btn.className = 'submodule-button';\n                    btn.innerHTML = submoduleName;\n                    btn.onclick = function () {\n                        alert('Clicked on: ' + submoduleName);\n                    };\n                    submoduleContainer.appendChild(btn);\n                });\n            }\n        }\n    </script>\n</body>\n\n</html>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Title Bar</title>\n    <style>\n        body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n            box-sizing: border-box;\n        }\n\n        .title-bar {\n            position: fixed;\n            height: 65px;\n            width: 99.6%;\n            background-color: #00508a;\n            display: flex;\n            justify-content: space-between;\n            padding: 0 20px;\n            color: white;\n            box-sizing: border-box;\n            top: 0;\n            left: 0px;\n            right: 0px;\n        }\n\n        .left-section {\n            display: flex;\n            border-right: 0.5px solid black;\n            border-bottom: 0.5px solid black;\n            padding-right: 50px;\n            width: fit-content;\n        }\n\n        .left-section::after {\n            content: \"\";\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 50px;\n            border-bottom: 0.5px solid black;\n        }\n\n        .company-logo {\n            margin-top: 8px;\n            height: 47px;\n            width: 47px;\n            background: white;\n            margin-left: 30px;\n            border-radius: 50px;\n        }\n\n        .company-platform {\n            padding-top: 40px;\n            font-size: 11px;\n            margin-left: -29px;\n            font-weight: 500;\n            font-style: Roboto Mono;\n        }\n\n        .right-section {\n            font-size: 16px;\n            margin-right: -10px;\n            padding-top: 10px;\n        }\n    </style>\n</head>\n\n</html>\n\n<body>\n    <div class=\"title-bar\">\n        <div class=\"left-section\">\n            <img src=\"http://localhost:1880/LOGO.png\" alt=\"Company Logo\" class=\"company-logo\">\n        </div>\n        <div class=\"company-name\"\n            style=\"position: absolute; top: 11px; font-size:30px; font-weight: bold; left: 520px;\">\n            <span>TSE Control System</span>\n        </div>\n        <div class=\"right-section\">\n            <span id=\"time\"></span><br>\n            <span id=\"date\"></span>\n        </div>\n    </div>\n    <script>\n        function updateTime() {\n            const now = new Date();\n\n            const timeString = now.toLocaleTimeString('en-US', { \n                hour: '2-digit', \n                minute: '2-digit', \n                second: '2-digit', \n                hour12: true \n            });\n\n            const day = String(now.getDate()).padStart(2, '0');\n            const month = String(now.getMonth() + 1).padStart(2, '0'); \n            const year = now.getFullYear();\n            const weekday = now.toLocaleDateString('en-US', { weekday: 'long' });\n\n            document.getElementById('time').textContent = `Time : ${timeString}`;\n            document.getElementById('date').textContent = `Date : ${day}/${month}/${year}`;\n        }\n\n        setInterval(updateTime, 1000);\n        updateTime();\n    </script>\n</body>\n\n<div id=\"spinning2Div\"\n    style=\"transform: scale(0.9); left:100px; margin-top:30px; top: 200px; left:100px; width: 100%; height: 100%; display: none;\">\n\n    <div\n        style=\"position: absolute; top: 15px; left: 130px; width: 1260px; height: 630px; border: 2px solid #C5C6D0; border-radius: 20px;\">\n    </div>\n\n    <img src=\"http://localhost:1880/rdf00.gif\" style=\"position:absolute; left:260px; top:220px; width:150px; height:120px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:195px; top:275px; width:80px; height:7px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:367px; top:500px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:346px; top:500px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/sf00.gif\" style=\"position:absolute; left:380px; top:518px; width:50px; height:50px; border-radius: 50px; border: 1px solid black;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:332px; top:319px; width:6px; height:220px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:332px; top:539px; width:47px; height:6px;\">\n    <img src=\"http://localhost:1880/icyclone000.jpg\" style=\"position:absolute; left:502px; top:445px; width:80px; height:180px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:432px; top:539px; width:70px; height:6px;\">\n\n\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:395px; top:305px; width:50px; height:6px;\">\n    <!-- <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:241px; width:6px; height:70px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:444px; top:311px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:208px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:511px; top:320px; width:42px; height:42px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <!-- <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:444px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:237px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:573px; top:377px; width:68px; height:6px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:237px; width:6px; height:76px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:640px; top:313px; width:6px; height:70px;\"> -->\n    <img src=\"http://localhost:1880/redline00_x.png\" style=\"position:absolute; left:440px; top:305px; width:415px; height:6px;\">\n    <img src=\"http://localhost:1880/exhaust000.gif\" style=\"position:absolute; left:657px; top:103px; width:45px; height:25px;\">\n    <img src=\"http://localhost:1880/intake000.gif\" style=\"position:absolute; left:795px; top:95px; width:35px; height:30px;\">\n    <img src=\"http://localhost:1880/redline00_y.png\" style=\"position:absolute; left:678px; top:129px; width:6px; height:175px;\">\n    <img src=\"http://localhost:1880/greenline00_y.png\" style=\"position:absolute; left:809px; top:130px; width:6px; height:176px;\">\n    <img src=\"http://localhost:1880/airwasher000.png\" style=\"position:absolute; left:923px; top:250px; width:270px; height:150px;\">\n    <img src=\"http://localhost:1880/greenline00_x.png\" style=\"position:absolute; left:809px; top:305px; width:151px; height:6px;\">\n    <img src=\"http://localhost:1880/blueline00_x.png\" style=\"position:absolute; left:1194px; top:295px; width:108px; height:6px;\">\n    <img src=\"http://localhost:1880/fan000.gif\" style=\"position:absolute; left:1273px; top:391px; width:43px; height:43px; border-radius: 60px; border: 2.5px solid black; padding:8PX;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:295px; width:6px; height:97px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1302px; top:454px; width:6px; height:85px;\">\n    <img src=\"http://localhost:1880/blueline00_y.png\" style=\"position:absolute; left:1253px; top:238px; width:6px; height:63px;\">\n\n    <img src=\"http://localhost:1880/recirculation00.gif\" style=\"position:absolute; left:715px; top:266px; width:78px; height:85px;\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:782px; top:130px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_x.png\" style=\"position:absolute; left:652px; top:128px; width:60px; height:27px; border: 1px solid black; padding: -2px;\"\">\n    <img src=\"http://localhost:1880/circleline000_y.png\" style=\"position:absolute; left:739.5px; top:286px; width:27px; height:44px; border: 1px solid black; padding: -2px;\">\n\n    <p style=\"position:absolute; left:315px; top:215px; color:black;\"><b>RDF</b></p>\n    <p style=\"position:absolute; left:529px; top:181px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:529px; top:380px; color:black;\"><b>Fan</b></p>\n    <p style=\"position:absolute; left:400px; top:566px; color:black;\"><b>SF</b></p>\n    <p style=\"position:absolute; left:530px; top:622px; color:black;\"><b>Cyclone</b></p>\n    <p style=\"position:absolute; left:1240px; top:412px; color:black;\"><b>Fan</b></p>\n\n    <div style=\"position:absolute; left:1200px; top:30px; color:#00508a; font-size:30px;\"><b><u>Spinning-2</u></b></div>\n    <p style=\"position:absolute; left:657px; top:68px; color:black;\"><b>Exhaust</b></p>\n    <p style=\"position:absolute; left:765px; top:65px; color:black;\"><b>Fresh Intake</b></p>\n    <p style=\"position:absolute; left:701px; top:235px; color:black;\"><b>Recirculation</b></p>\n    <p style=\"position:absolute; left:970px; top:399px; color:black;\"><b>Air Washer</b></p>\n\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:228px; top:269px; width:18px; height:19px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:450px; top:299.5px; width:16px; height:17px;\">\n    <!-- <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:232px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:472px; top:372px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:603px; top:372px; width:16px; height:17px;\"> -->\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:610px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/redarrow00_r.png\" style=\"position:absolute; left:695px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:855px; top:299.5px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_b.png\" style=\"position:absolute; left:327px; top:425px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/greenarrow00_r.png\" style=\"position:absolute; left:458px; top:534px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:340px; width:16px; height:17px;\">\n    <img src=\"http://localhost:1880/bluearrow00_b.png\" style=\"position:absolute; left:1297px; top:480px; width:16px; height:17px;\">\n\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:355px; top:332px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:376px; top:332px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:595px; top:445px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:616px; top:445px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:580px; top:333px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:601px; top:333px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/greendot0.png\" style=\"position:absolute; left:578px; top:190px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:599px; top:190px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1087px; top:357px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1108px; top:357px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n    <img src=\"http://localhost:1880/reddot0.png\" style=\"position:absolute; left:1335px; top:450px; width:20px; height:20px;\">\n    <img src=\"http://localhost:1880/yellowdot0.jpg\" style=\"position:absolute; left:1356px; top:450px; width:12.5px; height:12.5px; border: 1px solid rgba(0, 0, 0, 0.5); padding: 3px;\">\n\n    <div\n        style=\"position:absolute; left:1215px; top:526px; border:3px solid skyblue; width:150px; height:90px; border-radius:7px\">\n    </div>\n\n    <div\n        style=\"position:absolute; left:362px; top:235px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Counter}}</span> Pa\n    </div>\n\n    <div\n        style=\"position:absolute; left:500px; top:280px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1140px; top:355px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sawtooth}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1213px; top:215px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Sinusoid}}</span> °C\n    </div>\n\n    <div\n        style=\"position:absolute; left:1220px; top:475px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Square}}</span> %\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:539px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Triangle}}</span>\n    </div>\n\n    <div\n        style=\"position:absolute; left:1282px; top:583px; border:2px solid black; padding:0px 15px 0px 20px; border-radius:5px\">\n        <span>{{msg.payload.Random}}</span>\n    </div>\n\n    <p style=\"position:absolute; left:1224px; top:533px;\"><b>%R.H</b></p>\n    <p style=\"position:absolute; left:1238px; top:580px;\"><b>°C</b></p>\n\n</div>\n\n\n<div id=\"spinning1Div\"\n    style=\"transform: scale(0.9); margin-left: 140px; margin-top: 100px; top:150px; left:400px; display: none;\">\n    <img src=\"http://localhost:1880/spinning200.png\" style=\"position:fixed; width: 1230px; height: 600px;\">\n</div>\n\n<!-- <div>\n    <iframe id=\"trendsIframe\" src=\"http://localhost:3000/dashboards\"\n        style=\"display: none;\"></iframe>\n</div> -->\n\n<div>\n    <iframe id=\"reportIframe\" src=\"http://127.0.0.1:5000\"\n        style=\"position: fixed; top: 65px; left: 145px; width: 89%; height: 90%; border: none; display: none;\"></iframe>\n</div>\n\n<div id=\"custominputdiv\" style=\"display: none;\">\n    <h2 style=\"position:absolute; top:180px; left:300px;\">Spinning 2 :</h2>\n    <input id=\"customValueInput\" type=\"number\" value=\"{{msg.payload}}\" style=\"position:absolute; top:190px; left:450px; width: 100px; height: 30px; background-color: white; color: black; border: 2px solid black; text-align: center; border-radius: 5px;\" />\n    <button id=\"updateValueButton\" style=\"position:absolute; top:194px; left:570px; width: 50px; height: 25px; background-color: red; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer;\"><b>Update</b></button>\n</div>\n\n<script>\n    (function(scope) {\n            document.getElementById('updateValueButton').addEventListener('click', function() {\n                var value = document.getElementById('customValueInput').value;\n                if (value !== '') {\n                    scope.send({ payload: parseFloat(value), topic: \"ns=3;i=1008;datatype=Double\" });\n                }\n            });\n        })(scope);\n</script>\n\n<style>\n    .modal {\n        display: none;\n        position: fixed;\n        z-index: 1;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        background-color: rgb(0, 0, 0);\n        background-color: rgba(0, 0, 0, 0.4);\n    }\n\n    .modal-content {\n        background-color: #fefefe;\n        margin: 15% auto;\n        padding: 20px;\n        border: 1px solid #888;\n        width: 80%;\n    }\n\n    .close {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n    }\n\n    .close:hover,\n    .close:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n    }\n</style>\n\n<script>\n    var modal = document.getElementById(\"myModal\");\n    var btn = document.querySelector('button.submodule-button[data-submodule=\"Set Point\"]');\n    var span = document.getElementsByClassName(\"close\")[0];\n    btn.onclick = function() {\n        modal.style.display = \"block\";\n    }\n\n    span.onclick = function() {\n        modal.style.display = \"none\";\n    }\n\n    window.onclick = function(event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    }\n\n</script>\n\n<script>\n    function toggleSubmodules(submoduleContainerId) {\n    var container = document.getElementById(submoduleContainerId);\n    var isDisplayed = container.style.display === 'block';\n    document.querySelectorAll('.submodule-container').forEach(function (sub) {\n        sub.style.display = 'none';\n    });\n    container.style.display = isDisplayed ? 'none' : 'block';\n\n    if (!isDisplayed) {\n        var submodules;\n        switch (submoduleContainerId) {\n            case 'departmentsSubmodules':\n                submodules = ['Cards', 'Knitting', 'Preparatory', 'Spinning 1', 'Spinning 2', 'Winding', 'Spinning 1 Unit-2', 'Spinning 2 Unit-2', 'Winding Unit-2'];\n                break;\n            case 'settingsSubmodules':\n                submodules = [\n                    'Set Point', 'Digital Input', 'Digital Output', 'Analog Input',\n                    'Analog Output', 'Preset Values', 'Timer', 'Controllers',\n                    'UPSS', 'Pump Min Set'\n                ];\n                break;\n            case 'reportsSubmodules':\n                submodules = ['Trends', 'Report', 'Chart'];\n                break;\n        }\n        container.innerHTML = '';\n        submodules.forEach(function (submodule) {\n            var btn = document.createElement('button');\n            btn.className = 'submodule-button';\n            btn.dataset.submodule = submodule;\n            btn.innerHTML = submodule;\n            \n            btn.onclick = function () {\n                document.getElementById('spinning1Div').style.display = 'none';\n                document.getElementById('spinning2Div').style.display = 'none';\n                document.getElementById('custominputdiv').style.display = 'none';\n\n                // var iframe = document.getElementById('trendsIframe');\n                // iframe.style.display = 'none';\n\n                var iframe = document.getElementById('reportIframe');\n                iframe.style.display = 'none';\n\n                if (submodule === 'Spinning 1') {\n                    document.getElementById('spinning1Div').style.display = 'block';\n                    \n                } else if (submodule === 'Spinning 2') {\n                    document.getElementById('spinning2Div').style.display = 'block';\n\n                } \n                // else if (submodule === 'Trends') {\n                // iframe.style.display = 'block';\n                // iframe.src = 'http://localhost:3000/dashboards';\n\n                else if (submodule === 'Trends') {\n                window.open('http://localhost:3000/dashboards', '_blank');\n                }\n                else if (submodule === 'Report') {\n                iframe.style.display = 'block';\n                iframe.src = 'http://127.0.0.1:5000';\n\n                } else if (submodule === 'Set Point') {\n                document.getElementById('custominputdiv').style.display = 'block';\n                }\n            };\n            container.appendChild(btn);\n        });\n    }\n}\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 360,
        "wires": [
            [
                "8d2ae9ce6bb9c4f5",
                "7f323572bfdafc4d"
            ]
        ]
    }
]